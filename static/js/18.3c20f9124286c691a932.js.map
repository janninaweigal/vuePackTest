{"version":3,"sources":["webpack:///src/views/capitalManage/OriginalForm.vue","webpack:///./src/views/capitalManage/OriginalForm.vue?3658","webpack:///./src/views/capitalManage/OriginalForm.vue"],"names":["OriginalForm","name","components","Crumbs","IncomeModel","income","PayModel","pay","mixins","tablePage","data","_this","this","isPop","contractArray","1","modal","2","keMuArray","3","jieOrDai","incomeType","payType","searchData","contractType","startTime","endTime","yifangId","ascending","orderBy","pageNo","pageSize","contractList","yiFangList","yiFangUnit","accountList","listUrl","columns","type","title","width","align","fixed","indexMethod","key","render","h","params","row","date","$moment","format","style","color","cursor","on","click","form","assign_default","accountType","shouzhi_type","Date","$nextTick","$refs","showModal","pingzhen","totalFlag","fontWeight","duifang_kemu","yingshou","shishou","yingfu","shifu","unit","wanglai_danwei","yinshouSum","shishouSum","yinfuSum","shifuSum","computed","shouSum","calculation","accSub","fuSum","created","getYiFangInfo","getContractList","searchList","methods","index","_index","that","search","getNewSearchData","flag","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","specialAccountModelList","next","done","item","value","special_account_type","jiefang_money","err","return","push","zhaiyao","total","totalCount","$Spin","show","class","props","size","commonUtil","ajaxGetUtil","hide","code","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","id","$Message","error","msg","ajaxPostUtil","isShowScreen","capitalManage_OriginalForm","_vm","_h","$createElement","_c","_self","staticClass","attrs","parent-manage","children-manage","_v","padding","background","marginBottom","model","label-width","span","label","transfer","filterable","clearable","callback","$$v","$set","expression","_l","parseInt","_s","staticStyle","margin-top","options","startTimeOptions","placeholder","placement","on-change","startTimeChange","offset","endTimeOptions","endTimeChange","text-align","_e","minHeight","icon","$event","stopPropagation","printContent","excelExcel","highlight-row","on-current-change","selectRow","font-weight","margin-bottom","margin-left","current","page-size","show-sizer","pageNoChange","on-page-size-change","pageSizeChange","ref","jie-or-dai","ke-mu-array","is-create","isCreate","is-disabled","contract-type","refreshList","contract-list","yi-fang-list","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.3c20f9124286c691a932.js","sourcesContent":["<template>\n  <div class=\"original-form\">\n    <Crumbs\n      :parent-manage=\"'资金管理'\"\n      :children-manage=\"'应收应付报表'\"\n      @isShowScreen=\"isShowScreen\"\n    ></Crumbs>\n\n    <!-- 筛选内容 -->\n    <Content\n      v-if=\"isPop\"\n      class=\"content screenStyle\"\n      :style=\"{padding: '24px', background: '#fff', marginBottom: '10px'}\"\n    >\n      <Form\n        :model=\"searchData\"\n        :label-width=\"85\"\n      >\n        <Row>\n          <Col span=\"11\">\n          <FormItem label=\"往来单位\">\n            <Select\n              v-model=\"searchData.yifangId\"\n              transfer\n              filterable\n              clearable\n            >\n              <Option v-for=\"item in yiFangList\" :key=\"item.id\" :value=\"parseInt(item.id)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          </Col>\n        </Row>\n        <!-- 提交开始和结束 -->\n        <Row style=\"margin-top:15px;\">\n          <Col span=\"11\">\n          <FormItem label=\"日期开始时间\">\n            <DatePicker\n              v-model=\"searchData.startTime\"\n              style=\"width:100%;\"\n              type=\"date\"\n              :options=\"startTimeOptions\"\n              placeholder=\"请选择日期开始时间\"\n              placement=\"bottom-start\"\n              @on-change=\"startTimeChange\"\n            ></DatePicker>\n          </FormItem>\n          </Col>\n          <Col span=\"11\" offset=\"2\">\n          <FormItem label=\"日期结束时间\">\n            <DatePicker\n              v-model=\"searchData.endTime\"\n              style=\"width:100%;\"\n              type=\"date\"\n              :options=\"endTimeOptions\"\n              placeholder=\"请选择日期结束时间\"\n              placement=\"bottom-start\"\n              @on-change=\"endTimeChange\"\n            ></DatePicker>\n          </FormItem>\n          </Col>\n        </Row>\n        <Row style=\"margin-top:15px;text-align: right;\">\n          <Button type=\"primary\" @click=\"searchList\">确认</Button>\n        </Row>\n      </Form>\n    </Content>\n    <!-- /筛选内容 -->\n\n    <!-- table-content -->\n    <Content\n      class=\"content\"\n      :style=\"{padding: '14px 24px', minHeight: '220px', background: '#fff'}\"\n    >\n      <Button icon=\"md-print\" @click.stop=\"printContent(21)\">\n        打印\n      </Button>\n      <Button icon=\"md-exit\" @click=\"excelExcel('/specialAccount/exportSpecialAccountListExcel')\">\n        导出\n      </Button>\n      <Table\n        highlight-row\n        class=\"table\"\n        :columns=\"columns\"\n        :data=\"accountList\"\n        style=\"margin-top: 15px;\"\n        @on-current-change=\"selectRow\"\n      ></Table>\n      <div style=\"font-weight:bolder;margin-bottom:15px;\">\n        <span style=\"margin-left:42%\">\n          应收未收：<span style=\"margin-left:6%\"><Icon type=\"logo-yen\" />{{ shouSum }}</span>\n        </span>\n        <span style=\"margin-left:10%\">\n          应付未付：<span style=\"margin-left:6%\"><Icon type=\"logo-yen\" />{{ fuSum }}</span>\n        </span>\n      </div>\n      <!-- 分页组件 -->\n      <Page\n        style=\"text-align: right\"\n        :total=\"total\"\n        :current=\"searchData.pageNo\"\n        :page-size=\"searchData.pageSize\"\n        show-sizer\n        transfer\n        @on-change=\"pageNoChange\"\n        @on-page-size-change=\"pageSizeChange\"\n      />\n    </Content>\n    <!-- /table-content -->\n    <!-- 收入 -->\n    <income-model ref=\"income\" :jie-or-dai=\"jieOrDai\" :ke-mu-array=\"keMuArray\" :is-create=\"isCreate\" is-disabled :contract-type=\"incomeType\" @refreshList=\"searchList\"></income-model>\n    <!-- 支出 -->\n    <pay-model ref=\"pay\" :jie-or-dai=\"jieOrDai\" :ke-mu-array=\"keMuArray\" :is-create=\"isCreate\" is-disabled :contract-type=\"payType\" :contract-list=\"contractList\" :yi-fang-list=\"yiFangList\" @refreshList=\"searchList\"></pay-model>\n  </div>\n</template>\n\n<script>\nimport Crumbs from '../components/Crumbs';\nimport IncomeModel from './components/Accountinfo/income';\nimport PayModel from './components/Accountinfo/pay';\nimport tablePage from '@/mixins/tablePage.js';\nimport calcu from '@/common/calculation.js'\nexport default {\n  name: 'OriginalForm',\n  components: { Crumbs, IncomeModel, PayModel },\n  mixins: [tablePage],\n  data() {\n    return {\n      isPop: false,\n      // 收入和支出\n      contractArray: {\n        1: {\n          modal: 'income',\n          name: '收入'\n        },\n        2: {\n          modal: 'pay',\n          name: '支出'\n        }\n      },\n      keMuArray: {\n        1: '建工程',\n        2: '费用',\n        3: '其他'\n      },\n      // 借或贷\n      jieOrDai: {\n        1: '借',\n        2: '贷'\n      },\n      incomeType: {\n        1: '应收',\n        2: '实收',\n        3: '其他'\n      },\n      payType: {\n        1: '应付',\n        2: '实付',\n        3: '其他'\n      },\n      // 筛选内容_字段\n      searchData: {\n        // 合同类别\n        contractType: '',\n        startTime: null,\n        // 时间日期\n        endTime: null,\n        // 乙方单位\n        yifangId: null,\n        ascending: false,\n        orderBy: 'id',\n        pageNo: 1,\n        pageSize: 10\n      },\n      // 合同名称列表\n      contractList: [],\n      // 往来单位\n      yiFangList: [],\n      yiFangUnit: {},\n      // 表格内容 字段相对应\n      accountList: [],\n      listUrl: '/specialAccount/searchSpecialAccount/list',\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 60,\n          align: 'center',\n          fixed: 'left',\n          indexMethod: this.indexMethod\n        },\n        {\n          title: '日期',\n          key: 'date',\n          render: (h, params) => {\n            const date = params.row.date\n            return h('div', date ? this.$moment(params.row.date).format('YYYY年MM月DD日') : '')\n          }\n        },\n        {\n          title: '凭证号',\n          key: 'pingzhen',\n          render: (h, params) => {\n            const row = params.row\n            return h('span', {\n              style: {\n                color: '#2d8cf0',\n                cursor: 'pointer'\n              },\n              on: {\n                click: () => {\n                  const form = Object.assign({}, row);\n                  const accountType = form.shouzhi_type\n                  const name = this.contractArray[accountType].modal\n                  form.date = new Date(form.date)\n                  this.$nextTick(() => {\n                    this.$refs[name].showModal(form);\n                  })\n                }\n              }\n            }, row.pingzhen);\n          }\n        },\n        {\n          title: '摘要',\n          key: 'zhaiyao'\n        },\n        {\n          title: '对方科目',\n          key: 'duifang_kemu',\n          render: (h, params) => {\n            const row = params.row\n            if (row.totalFlag) {\n              return h('span', {\n                style: {\n                  fontWeight: 'bold'\n                }\n              }, '总计')\n            }\n            return h('div', this.keMuArray[row.duifang_kemu]);\n          }\n        },\n        {\n          title: '应收',\n          key: 'yingshou',\n          render: (h, params) => {\n            const row = params.row\n            if (row.totalFlag) {\n              return h('span', {\n                style: {\n                  fontWeight: 'bold'\n                }\n              }, row.yingshou)\n            }\n            return h('div', row.yingshou)\n          }\n        },\n        {\n          title: '实收',\n          key: 'shishou',\n          render: (h, params) => {\n            const row = params.row\n            if (row.totalFlag) {\n              return h('span', {\n                style: {\n                  fontWeight: 'bold'\n                }\n              }, row.shishou)\n            }\n            return h('div', row.shishou)\n          }\n        },\n        {\n          title: '应付',\n          key: 'yingfu',\n          render: (h, params) => {\n            const row = params.row\n            if (row.totalFlag) {\n              return h('span', {\n                style: {\n                  fontWeight: 'bold'\n                }\n              }, row.yingfu)\n            }\n            return h('div', row.yingfu)\n          }\n        },\n        {\n          title: '实付',\n          key: 'shifu',\n          render: (h, params) => {\n            const row = params.row\n            if (row.totalFlag) {\n              return h('span', {\n                style: {\n                  fontWeight: 'bold'\n                }\n              }, row.shifu)\n            }\n            return h('div', row.shifu)\n          }\n        },\n        {\n          title: '往来单位',\n          key: 'wanglai_danwei',\n          render: (h, params) => {\n            const unit = params.row.wanglai_danwei\n            return h('div', unit ? this.yiFangUnit[unit] : '')\n          }\n        }\n      ],\n      yinshouSum: '',\n      shishouSum: '',\n      yinfuSum: '',\n      shifuSum: ''\n    }\n  },\n  computed: {\n    shouSum() {\n      const yinshouSum = this.yinshouSum || 0\n      const shishouSum = this.shishouSum || 0\n      return calcu.accSub(yinshouSum, shishouSum) || ''\n    },\n    fuSum() {\n      const yinfuSum = this.yinfuSum || 0\n      const shifuSum = this.shifuSum || 0\n      return calcu.accSub(yinfuSum, shifuSum) || ''\n    }\n  },\n  created() {\n    this.getYiFangInfo()\n    // 获取合同名称 列表\n    this.getContractList();\n    this.searchList()\n  },\n  methods: {\n    // 自定义序号\n    indexMethod(row) {\n      if (row.totalFlag) {\n        return ''\n      }\n      const index = row._index\n      return this.searchData.pageSize * (this.searchData.pageNo - 1) + index + 1;\n    },\n    searchList() {\n      const that = this;\n      that.search(that.getNewSearchData(), (flag, res) => {\n        if (flag) {\n          const data = res.data\n          for (const item of data.specialAccountModelList) {\n            if (item.shouzhi_type === 1) {\n              if (item.special_account_type === 1) {\n                item.yingshou = item.jiefang_money\n              } else {\n                item.shishou = item.jiefang_money\n              }\n            } else {\n              if (item.special_account_type === 1) {\n                item.yingfu = item.jiefang_money\n              } else {\n                item.shifu = item.jiefang_money\n              }\n            }\n          }\n          data.specialAccountModelList.push({\n            totalFlag: true,\n            date: '',\n            pingzhen: '',\n            zhaiyao: '',\n            duifang_kemu: '总计',\n            yingshou: data.yinshouSum,\n            shishou: data.shishouSum,\n            yingfu: data.yinfuSum,\n            shifu: data.shifuSum\n          })\n          that.accountList = data.specialAccountModelList\n          that.total = data.totalCount\n          that.yinshouSum = data.yinshouSum\n          that.shishouSum = data.shishouSum\n          that.yinfuSum = data.yinfuSum\n          that.shifuSum = data.shifuSum\n        }\n      })\n    },\n    // 获取乙方信息列表\n    getYiFangInfo() {\n      const that = this;\n      that.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              'class': 'demo-spin-icon-load',\n              props: {\n                type: 'ios-loading',\n                size: 18\n              }\n            }),\n            h('div', '加载中')\n          ])\n        }\n      });\n      that.commonUtil.ajaxGetUtil('/contract/searchYiFang', {}, (res) => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          const data = res.data\n          const yiFangUnit = {}\n          for (const item of data) {\n            yiFangUnit[item.id] = item.name\n          }\n          that.yiFangList = data\n          that.yiFangUnit = yiFangUnit\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, () => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n    },\n    // 获取合同信息列表\n    getContractList() {\n      const that = this\n      that.$Spin.show();\n      that.commonUtil.ajaxPostUtil('/contract/searchContractList', {}, (res) => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          that.contractList = res.data.contractList\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, () => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n    },\n    // 子组件接收 控制筛选内容的隐藏和显示\n    isShowScreen(msg) {\n      this.isPop = msg;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/capitalManage/OriginalForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"original-form\"},[_c('Crumbs',{attrs:{\"parent-manage\":'资金管理',\"children-manage\":'应收应付报表'},on:{\"isShowScreen\":_vm.isShowScreen}}),_vm._v(\" \"),(_vm.isPop)?_c('Content',{staticClass:\"content screenStyle\",style:({padding: '24px', background: '#fff', marginBottom: '10px'})},[_c('Form',{attrs:{\"model\":_vm.searchData,\"label-width\":85}},[_c('Row',[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"往来单位\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.searchData.yifangId),callback:function ($$v) {_vm.$set(_vm.searchData, \"yifangId\", $$v)},expression:\"searchData.yifangId\"}},_vm._l((_vm.yiFangList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":parseInt(item.id)}},[_vm._v(_vm._s(item.name))])}),1)],1)],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"15px\"}},[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"日期开始时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"options\":_vm.startTimeOptions,\"placeholder\":\"请选择日期开始时间\",\"placement\":\"bottom-start\"},on:{\"on-change\":_vm.startTimeChange},model:{value:(_vm.searchData.startTime),callback:function ($$v) {_vm.$set(_vm.searchData, \"startTime\", $$v)},expression:\"searchData.startTime\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"11\",\"offset\":\"2\"}},[_c('FormItem',{attrs:{\"label\":\"日期结束时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"options\":_vm.endTimeOptions,\"placeholder\":\"请选择日期结束时间\",\"placement\":\"bottom-start\"},on:{\"on-change\":_vm.endTimeChange},model:{value:(_vm.searchData.endTime),callback:function ($$v) {_vm.$set(_vm.searchData, \"endTime\", $$v)},expression:\"searchData.endTime\"}})],1)],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"15px\",\"text-align\":\"right\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchList}},[_vm._v(\"确认\")])],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('Content',{staticClass:\"content\",style:({padding: '14px 24px', minHeight: '220px', background: '#fff'})},[_c('Button',{attrs:{\"icon\":\"md-print\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.printContent(21)}}},[_vm._v(\"\\n      打印\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-exit\"},on:{\"click\":function($event){return _vm.excelExcel('/specialAccount/exportSpecialAccountListExcel')}}},[_vm._v(\"\\n      导出\\n    \")]),_vm._v(\" \"),_c('Table',{staticClass:\"table\",staticStyle:{\"margin-top\":\"15px\"},attrs:{\"highlight-row\":\"\",\"columns\":_vm.columns,\"data\":_vm.accountList},on:{\"on-current-change\":_vm.selectRow}}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bolder\",\"margin-bottom\":\"15px\"}},[_c('span',{staticStyle:{\"margin-left\":\"42%\"}},[_vm._v(\"\\n        应收未收：\"),_c('span',{staticStyle:{\"margin-left\":\"6%\"}},[_c('Icon',{attrs:{\"type\":\"logo-yen\"}}),_vm._v(_vm._s(_vm.shouSum))],1)]),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10%\"}},[_vm._v(\"\\n        应付未付：\"),_c('span',{staticStyle:{\"margin-left\":\"6%\"}},[_c('Icon',{attrs:{\"type\":\"logo-yen\"}}),_vm._v(_vm._s(_vm.fuSum))],1)])]),_vm._v(\" \"),_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"total\":_vm.total,\"current\":_vm.searchData.pageNo,\"page-size\":_vm.searchData.pageSize,\"show-sizer\":\"\",\"transfer\":\"\"},on:{\"on-change\":_vm.pageNoChange,\"on-page-size-change\":_vm.pageSizeChange}})],1),_vm._v(\" \"),_c('income-model',{ref:\"income\",attrs:{\"jie-or-dai\":_vm.jieOrDai,\"ke-mu-array\":_vm.keMuArray,\"is-create\":_vm.isCreate,\"is-disabled\":\"\",\"contract-type\":_vm.incomeType},on:{\"refreshList\":_vm.searchList}}),_vm._v(\" \"),_c('pay-model',{ref:\"pay\",attrs:{\"jie-or-dai\":_vm.jieOrDai,\"ke-mu-array\":_vm.keMuArray,\"is-create\":_vm.isCreate,\"is-disabled\":\"\",\"contract-type\":_vm.payType,\"contract-list\":_vm.contractList,\"yi-fang-list\":_vm.yiFangList},on:{\"refreshList\":_vm.searchList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49aa2184\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/capitalManage/OriginalForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49aa2184\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OriginalForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OriginalForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OriginalForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49aa2184\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OriginalForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49aa2184\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/capitalManage/OriginalForm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}