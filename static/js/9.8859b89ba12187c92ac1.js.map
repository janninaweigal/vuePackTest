{"version":3,"sources":["webpack:///src/views/capitalManage/AuditReport.vue","webpack:///./src/views/capitalManage/AuditReport.vue?f0c8","webpack:///./src/views/capitalManage/AuditReport.vue"],"names":["AuditReport","name","components","Crumbs","uploadFile","components_fileUpload","audit","mixins","tablePage","data","_this","this","columns","type","title","width","align","fixed","indexMethod","key","render","h","params","style","color","cursor","on","click","form","assign_default","row","reportAuditTime","Date","isDisabled","isCreate","$nextTick","$refs","getFileItems","popUp","reportName","$moment","format","getAuditDetail","reportList","auditOrgName","auditResult","searchData","ascending","orderBy","pageNo","pageSize","ruleValidateType","required","message","trigger","listUrl","created","searchList","methods","that","getTime","search","flag","res","total","totalCount","handleAdd","clearData","handleModify","_this2","isSelected","currentRow","auditStatus","$Message","warning","resetFields","clearFileItems","handleDelete","deleteData","handlePrint","handleExport","handleCancel","handleConfirm","_this3","method","fileIds","getFileIds","submitForm","capitalManage_AuditReport","_vm","_h","$createElement","_c","_self","staticClass","attrs","parent-manage","children-manage","is-hide","_v","padding","minHeight","background","icon","$event","stopPropagation","printContent","excelExcel","ref","staticStyle","margin-top","highlight-row","on-current-change","selectRow","text-align","current","page-size","show-sizer","transfer","on-change","pageNoChange","on-page-size-change","pageSizeChange","mask-closable","model","value","callback","$$v","expression","slot","animated","label","rules","label-width","span","prop","disabled","placeholder","$set","offset","transferValue","clearable","is-disabled","fileids","reportFileids","_e","float","margin-left","auditForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.8859b89ba12187c92ac1.js","sourcesContent":["<template>\n  <div class=\"audit-report\">\n    <Crumbs\n      :parent-manage=\"'资金管理'\"\n      :children-manage=\"'审计报告'\"\n      is-hide\n    ></Crumbs>\n    <!-- table-content -->\n    <Content\n      class=\"content\"\n      :style=\"{padding: '14px 24px', minHeight: '220px', background: '#fff'}\"\n    >\n      <Button\n        type=\"primary\"\n        icon=\"md-add\"\n        @click=\"handleAdd\"\n      >\n        新增\n      </Button>\n      <Button\n        type=\"primary\"\n        icon=\"ios-create\"\n        @click=\"handleModify\"\n      >\n        修改\n      </Button>\n      <Button\n        type=\"primary\"\n        icon=\"md-close\"\n        @click=\"handleDelete\"\n      >\n        删除\n      </Button>\n      <Button icon=\"md-print\" @click.stop=\"printContent(19)\">\n        打印\n      </Button>\n      <Button icon=\"md-exit\" @click=\"excelExcel('/auditReport/exportAuditReportListExcel')\">\n        导出\n      </Button>\n      <Table\n        ref=\"reportList\"\n        highlight-row\n        class=\"table\"\n        :columns=\"columns\"\n        :data=\"reportList\"\n        style=\"margin-top: 15px;\"\n        @on-current-change=\"selectRow\"\n      ></Table>\n      <!-- 分页组件 -->\n      <Page\n        style=\"text-align: right\"\n        :total=\"total\"\n        :current=\"searchData.pageNo\"\n        :page-size=\"searchData.pageSize\"\n        show-sizer\n        transfer\n        @on-change=\"pageNoChange\"\n        @on-page-size-change=\"pageSizeChange\"\n      />\n      <!-- 弹出框 -->\n      <Modal\n        v-model=\"popUp\"\n        class=\"selStyle specialWidth\"\n        :mask-closable=\"false\"\n      >\n        <p slot=\"header\">\n          <span v-if=\"!isDisabled\">请添加审计报告信息</span>\n          <span v-else>审计报告</span>\n        </p>\n        <Tabs\n          :animated=\"false\"\n          class=\"innerTabStyle\"\n          value=\"name1\"\n        >\n          <TabPane\n            label=\"信息设置\"\n            name=\"name1\"\n          >\n            <Form\n              ref=\"form\"\n              :model=\"form\"\n              :rules=\"ruleValidateType\"\n              :label-width=\"80\"\n            >\n              <Row>\n                <Col span=\"11\">\n                <FormItem\n                  label=\"报告名称\"\n                  prop=\"reportName\"\n                >\n                  <Input\n                    v-model=\"form.reportName\"\n                    :disabled=\"isDisabled\"\n                    placeholder=\"请填写报告名称\"\n                  ></Input>\n                </FormItem>\n                </Col>\n                <Col\n                  span=\"11\"\n                  offset=\"2\"\n                >\n                <FormItem\n                  label=\"审计机构\"\n                  prop=\"auditOrgName\"\n                >\n                  <Input\n                    v-model=\"form.auditOrgName\"\n                    :disabled=\"isDisabled\"\n                    placeholder=\"请填写审计机构\"\n                  ></Input>\n                </FormItem>\n                </Col>\n              </Row>\n              <Row>\n                <Col span=\"11\">\n                <FormItem\n                  label=\"审计时间\"\n                  prop=\"reportAuditTime\"\n                >\n                  <DatePicker v-model=\"form.reportAuditTime\" type=\"date\" :transfer=\"transferValue\" :disabled=\"isDisabled\" placeholder=\"请填写审计时间\" style=\"width:100%;\" clearable></DatePicker>\n                </FormItem>\n                </Col>\n                <Col\n                  span=\"11\"\n                  offset=\"2\"\n                >\n                <FormItem\n                  label=\"审计结果\"\n                  prop=\"auditResult\"\n                >\n                  <Input\n                    v-model=\"form.auditResult\"\n                    :disabled=\"isDisabled\"\n                    placeholder=\"请填写审计结果\"\n                  ></Input>\n                </FormItem>\n                </Col>\n              </Row>\n            </Form>\n          </TabPane>\n          <TabPane\n            label=\"附件\"\n            name=\"name7\"\n          >\n            <uploadFile ref=\"uploadFile\" :is-disabled=\"isDisabled\" :form=\"{fileids: form.reportFileids}\" />\n          </TabPane>\n        </Tabs>\n        <p\n          slot=\"footer\"\n          style=\"text-align: left\"\n        >\n          <Button icon=\"md-print\">打印</Button>\n          <Button icon=\"md-exit\">导出</Button>\n          <Button\n            v-if=\"!isDisabled\"\n            style=\"float: right;margin-left: 8px\"\n            @click=\"handleCancel('form')\"\n          >\n            取消\n          </Button>\n          <Button\n            v-if=\"!isDisabled\"\n            style=\"float: right\"\n            type=\"primary\"\n            @click=\"handleConfirm('form')\"\n          >\n            确认\n          </Button>\n        </p>\n      </Modal>\n      <!-- /弹出框 -->\n    </Content>\n    <!--审核的弹出框-->\n    <audit ref=\"audit\" :form=\"auditForm\" />\n  </div>\n</template>\n\n<script>\nimport Crumbs from '../components/Crumbs';\nimport uploadFile from '@/components/fileUpload.vue'\nimport audit from '@/components/audit.vue'\nimport tablePage from '@/mixins/tablePage.js';\nexport default {\n  name: 'AuditReport',\n  components: { Crumbs, uploadFile, audit },\n  mixins: [tablePage],\n  data() {\n    return {\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 60,\n          align: 'center',\n          fixed: 'left',\n          indexMethod: this.indexMethod\n        },\n        {\n          title: '报告名称',\n          key: 'reportName',\n          align: 'center',\n          render: (h, params) => {\n            return h('span', {\n              style: {\n                color: '#2d8cf0',\n                cursor: 'pointer'\n              },\n              on: {\n                click: () => {\n                  const form = Object.assign({}, params.row)\n                  form.reportAuditTime = new Date(form.reportAuditTime)\n                  this.form = form\n                  // 审核通过和正在审核不可以编辑\n                  this.isDisabled = true\n                  this.isCreate = false;\n                  this.$nextTick(() => {\n                    this.$refs.uploadFile.getFileItems()\n                    this.popUp = true;\n                  })\n                }\n              }\n            }, params.row.reportName);\n          }\n        },\n        {\n          title: '审计机构',\n          key: 'auditOrgName',\n          align: 'center'\n        },\n        {\n          title: '审计时间',\n          key: 'reportAuditTime',\n          align: 'center',\n          render: (h, params) => {\n            return h('div', this.$moment(params.row.reportAuditTime).format('YYYY年MM月DD日'))\n          }\n        },\n        {\n          align: 'center',\n          title: '审核状态',\n          key: 'auditStatus',\n          fixed: 'right',\n          width: 120,\n          render: (h, params) => {\n            return this.getAuditDetail(h, params)\n          }\n        }\n      ],\n      // 表格内容 字段相对应\n      reportList: [],\n      // 弹出框内容显示隐藏   默认隐藏\n      popUp: false,\n      // 添加表单的内容字段  ->  传递数据的字段\n      form: {\n        reportName: '',\n        auditOrgName: '',\n        reportAuditTime: '',\n        auditResult: ''\n      },\n      searchData: {\n        reportName: '',\n        auditOrgName: '',\n        reportAuditTime: '',\n        auditResult: '',\n        ascending: false,\n        orderBy: '',\n        pageNo: 1,\n        pageSize: 10\n      },\n      // 表单内容的校验规则\n      ruleValidateType: {\n        reportName: [\n          { required: true, message: '请填写报告名称', trigger: 'blur' }\n        ],\n        auditOrgName: [\n          { required: true, message: '请填写审计机构', trigger: 'blur' }\n        ],\n        reportAuditTime: [\n          { type: 'date', required: true, message: '请填写审计时间', trigger: 'blur' }\n        ],\n        auditResult: [\n          { required: true, message: '请填写审计结果', trigger: 'blur' }\n        ]\n      },\n      listUrl: '/auditReport/searchAuditReport/list'\n    }\n  },\n  created() {\n    this.searchList()\n  },\n  methods: {\n    searchList() {\n      const that = this;\n      // 重组数据，变成long型\n      const searchData = Object.assign({}, that.searchData)\n      const reportAuditTime = searchData.reportAuditTime\n      if (reportAuditTime) {\n        searchData.reportAuditTime = new Date(reportAuditTime).getTime();\n      }\n      that.search(searchData, (flag, res) => {\n        if (flag) {\n          const data = res.data\n          that.reportList = data.reportList\n          that.total = data.totalCount\n        }\n      })\n    },\n    // 添加批复\n    handleAdd() {\n      this.clearData();\n      this.isCreate = true;\n      this.popUp = true;\n    },\n    // 更新操作\n    handleModify() {\n      if (!this.isSelected) {\n        this.$Message.warning('您未选择需要修改的内容');\n        return\n      }\n      this.clearData()\n      const form = Object.assign({}, this.currentRow)\n      const auditStatus = form.auditStatus\n      form.reportAuditTime = new Date(form.reportAuditTime)\n      this.form = form\n      // 审核通过和正在审核不可以编辑\n      this.isDisabled = auditStatus === 1 || auditStatus === 0\n      this.isCreate = false;\n      this.$nextTick(() => {\n        this.$refs.uploadFile.getFileItems()\n        this.popUp = true;\n      })\n    },\n    clearData() {\n      this.form = {\n        reportName: '',\n        auditOrgName: '',\n        reportAuditTime: null,\n        auditResult: ''\n      }\n      this.$refs['form'].resetFields();\n      const uploadFile = this.$refs.uploadFile\n      if (uploadFile) {\n        uploadFile.clearFileItems()\n      }\n    },\n    // 删除\n    handleDelete() {\n      this.deleteData('/auditReport/deleteAuditReport/', 'reportId')\n    },\n    // 打印操作\n    handlePrint() { },\n    // 导出操作\n    handleExport() { },\n    // 取消操作\n    handleCancel() {\n      this.clearData();\n      this.popUp = false;\n    },\n    // 确认操作   关系后台数据\n    handleConfirm(name) {\n      const isCreate = this.isCreate\n      const form = Object.assign({}, this.form)\n      const method = isCreate ? '/auditReport/addAuditReport' : '/auditReport/updateAuditReport'\n      form.reportAuditTime = form.reportAuditTime ? new Date(form.reportAuditTime).getTime() : null\n      form.fileIds = this.$refs.uploadFile.getFileIds()\n      this.submitForm(name, form, method, () => {\n        this.popUp = false;\n        this.searchList()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/capitalManage/AuditReport.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audit-report\"},[_c('Crumbs',{attrs:{\"parent-manage\":'资金管理',\"children-manage\":'审计报告',\"is-hide\":\"\"}}),_vm._v(\" \"),_c('Content',{staticClass:\"content\",style:({padding: '14px 24px', minHeight: '220px', background: '#fff'})},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"\\n      新增\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-create\"},on:{\"click\":_vm.handleModify}},[_vm._v(\"\\n      修改\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-close\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"\\n      删除\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-print\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.printContent(19)}}},[_vm._v(\"\\n      打印\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-exit\"},on:{\"click\":function($event){return _vm.excelExcel('/auditReport/exportAuditReportListExcel')}}},[_vm._v(\"\\n      导出\\n    \")]),_vm._v(\" \"),_c('Table',{ref:\"reportList\",staticClass:\"table\",staticStyle:{\"margin-top\":\"15px\"},attrs:{\"highlight-row\":\"\",\"columns\":_vm.columns,\"data\":_vm.reportList},on:{\"on-current-change\":_vm.selectRow}}),_vm._v(\" \"),_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"total\":_vm.total,\"current\":_vm.searchData.pageNo,\"page-size\":_vm.searchData.pageSize,\"show-sizer\":\"\",\"transfer\":\"\"},on:{\"on-change\":_vm.pageNoChange,\"on-page-size-change\":_vm.pageSizeChange}}),_vm._v(\" \"),_c('Modal',{staticClass:\"selStyle specialWidth\",attrs:{\"mask-closable\":false},model:{value:(_vm.popUp),callback:function ($$v) {_vm.popUp=$$v},expression:\"popUp\"}},[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[(!_vm.isDisabled)?_c('span',[_vm._v(\"请添加审计报告信息\")]):_c('span',[_vm._v(\"审计报告\")])]),_vm._v(\" \"),_c('Tabs',{staticClass:\"innerTabStyle\",attrs:{\"animated\":false,\"value\":\"name1\"}},[_c('TabPane',{attrs:{\"label\":\"信息设置\",\"name\":\"name1\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.ruleValidateType,\"label-width\":80}},[_c('Row',[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"报告名称\",\"prop\":\"reportName\"}},[_c('Input',{attrs:{\"disabled\":_vm.isDisabled,\"placeholder\":\"请填写报告名称\"},model:{value:(_vm.form.reportName),callback:function ($$v) {_vm.$set(_vm.form, \"reportName\", $$v)},expression:\"form.reportName\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"11\",\"offset\":\"2\"}},[_c('FormItem',{attrs:{\"label\":\"审计机构\",\"prop\":\"auditOrgName\"}},[_c('Input',{attrs:{\"disabled\":_vm.isDisabled,\"placeholder\":\"请填写审计机构\"},model:{value:(_vm.form.auditOrgName),callback:function ($$v) {_vm.$set(_vm.form, \"auditOrgName\", $$v)},expression:\"form.auditOrgName\"}})],1)],1)],1),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"审计时间\",\"prop\":\"reportAuditTime\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"transfer\":_vm.transferValue,\"disabled\":_vm.isDisabled,\"placeholder\":\"请填写审计时间\",\"clearable\":\"\"},model:{value:(_vm.form.reportAuditTime),callback:function ($$v) {_vm.$set(_vm.form, \"reportAuditTime\", $$v)},expression:\"form.reportAuditTime\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"11\",\"offset\":\"2\"}},[_c('FormItem',{attrs:{\"label\":\"审计结果\",\"prop\":\"auditResult\"}},[_c('Input',{attrs:{\"disabled\":_vm.isDisabled,\"placeholder\":\"请填写审计结果\"},model:{value:(_vm.form.auditResult),callback:function ($$v) {_vm.$set(_vm.form, \"auditResult\", $$v)},expression:\"form.auditResult\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"附件\",\"name\":\"name7\"}},[_c('uploadFile',{ref:\"uploadFile\",attrs:{\"is-disabled\":_vm.isDisabled,\"form\":{fileids: _vm.form.reportFileids}}})],1)],1),_vm._v(\" \"),_c('p',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"icon\":\"md-print\"}},[_vm._v(\"打印\")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-exit\"}},[_vm._v(\"导出\")]),_vm._v(\" \"),(!_vm.isDisabled)?_c('Button',{staticStyle:{\"float\":\"right\",\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.handleCancel('form')}}},[_vm._v(\"\\n          取消\\n        \")]):_vm._e(),_vm._v(\" \"),(!_vm.isDisabled)?_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleConfirm('form')}}},[_vm._v(\"\\n          确认\\n        \")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('audit',{ref:\"audit\",attrs:{\"form\":_vm.auditForm}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a8adfbd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/capitalManage/AuditReport.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8adfbd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AuditReport.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuditReport.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuditReport.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a8adfbd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AuditReport.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a8adfbd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/capitalManage/AuditReport.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}