{"version":3,"sources":["webpack:///src/phaseOne/checkInfo.vue","webpack:///./src/phaseOne/checkInfo.vue?2360","webpack:///./src/phaseOne/checkInfo.vue"],"names":["checkInfo","name","components","audit","mixins","exportExcel","data","_this","this","curTime","form","auditMan","result","color","auditMessage","columns","type","title","width","align","key","render","h","params","auditTime","row","Object","filters","createTime","fixed","status","auditStatus","style","props","size","on","click","showCheck","total","0","1","2","3","searchData","orderBy","adminFlag","ascending","pageNo","pageSize","mounted","time","Date","toLocaleString","hour12","substring","fetchList","methods","pageNoChange","pageSizeChange","fileids","$refs","displayAudit","updateUserAuditToAlreadyRead","that","$Spin","show","commonUtil","ajaxPutUtil","res","hide","code","$Message","error","msg","class","ajaxPostUtil","totalCount","logList","getAuditCountApi","phaseOne_checkInfo","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","margin-right","margin-left","src","__webpack_require__","_s","padding","minHeight","background","icon","$event","stopPropagation","printContent","excelExcel","ref","highlight-row","text-align","show-sizer","transfer","current","page-size","on-change","on-page-size-change","staticRenderFns","Component","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/45.2b070cf90e42be97704a.js","sourcesContent":["<template>\n  <div>\n    <!---->\n    <Breadcrumb class=\"breadcrumb\">\n      <BreadcrumbItem>\n        <Icon type=\"ios-home-outline\"></Icon>审核管理\n      </BreadcrumbItem>\n      <BreadcrumbItem class=\"curBreadcrumb\">\n        <Icon type=\"logo-buffer\"></Icon> 审核情况\n      </BreadcrumbItem>\n      <span class=\"screenContent\">\n        <img\n          style=\"width: 11px;margin-right: 8px;margin-left: 10px;\"\n          src=\"../assets/day.png\"\n        >\n        {{ curTime }}</span>\n    </Breadcrumb>\n    <Content\n      class=\"content\"\n      :style=\"{padding: '14px 24px', minHeight: '220px', background: '#fff'}\"\n    >\n      <Button icon=\"md-print\" @click.stop=\"printContent(9)\">\n        打印\n      </Button>\n      <Button icon=\"md-exit\" @click=\"excelExcel('/audit/exportAuditLogListExcel/true')\">\n        导出\n      </Button>\n      <Table\n        ref=\"checkTable\"\n        highlight-row\n        class=\"table\"\n        :columns=\"columns\"\n        :data=\"data\"\n      ></Table>\n      <Page\n        style=\"text-align: right\"\n        show-sizer\n        transfer\n        :total=\"total\"\n        :current=\"searchData.pageNo\"\n        :page-size=\"searchData.pageSize\"\n        @on-change=\"pageNoChange\"\n        @on-page-size-change=\"pageSizeChange\"\n      />\n    </Content>\n    <!--审核的弹出框-->\n    <audit ref=\"audit\" :form=\"form\" />\n  </div>\n</template>\n\n<script>\nimport { dateformat } from '@/filters/index.js'\nimport audit from '@/components/audit.vue'\nimport excelExcel from '@/mixins/exportExcel.js'\nexport default {\n  name: 'PowerManage',\n  components: {\n    audit\n  },\n  mixins: [excelExcel],\n  data() {\n    return {\n      curTime: '',\n      form: {\n        // 审核人\n        auditMan: '',\n        // 审核结果\n        result: { color: 'blue', name: '正在审核' },\n        // 审核意见\n        auditMessage: ''\n      },\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 60,\n          align: 'center'\n        },\n        {\n          title: '审核时间',\n          key: 'auditTime',\n          render: (h, params) => {\n            const auditTime = params.row.auditTime\n            const timeText = auditTime ? dateformat(auditTime, 'YYYY-MM-DD HH:mm:ss') : ''\n            return h('div', timeText)\n          }\n        },\n        {\n          title: '提交时间',\n          key: 'createTime',\n          render: (h, params) => {\n            return h('div',\n              dateformat(params.row.createTime, 'YYYY-MM-DD HH:mm:ss')\n            )\n          }\n        },\n        {\n          title: '位置',\n          key: 'auditLocation'\n        },\n        {\n          title: '审核人',\n          key: 'auditMan'\n        },\n        {\n          align: 'center',\n          title: '审核状态',\n          key: 'action',\n          fixed: 'right',\n          width: 120,\n          render: (h, params) => {\n            const row = params.row\n            const audit = this.status[row.auditStatus]\n            return h('div', [\n              h('Button', {\n                style: {\n                  color: audit.color + '!important'\n                },\n                props: {\n                  type: 'text',\n                  size: 'small'\n                },\n                on: {\n                  click: () => {\n                    this.showCheck(row, audit)\n                  }\n                }\n              }, audit.name)\n            ]);\n          }\n        }\n      ],\n      total: 0,\n      data: [],\n      status: {\n        0: {\n          name: '正在审核',\n          color: 'blue'\n        },\n        1: {\n          name: '审核通过',\n          color: 'green'\n        },\n        2: {\n          name: '审核未通过',\n          color: 'red'\n        },\n        3: {\n          name: '未审核',\n          color: 'orange'\n        }\n      },\n      // 筛选内容\n      searchData: {\n        // 默认第一页\n        orderBy: 'createtime',\n        adminFlag: true,\n        ascending: false,\n        pageNo: 1,\n        pageSize: 10\n      }\n    }\n  },\n  mounted() {\n    var myDate = new Date();\n    const time = myDate.toLocaleString('chinese', { hour12: false });\n    this.curTime = time.substring(0, 15)\n    this.fetchList();\n  },\n  methods: {\n    pageNoChange(pageNo) {\n      this.searchData.pageNo = pageNo\n      this.fetchList()\n    },\n    pageSizeChange(pageSize) {\n      this.searchData.pageSize = pageSize\n      this.fetchList()\n    },\n    // 开始审核按钮\n    showCheck(row, result) {\n      // 赋值\n      this.form = {\n        // 审核人\n        auditMan: row.auditMan,\n        // 审核结果\n        result: result,\n        // 审核意见\n        auditMessage: row.auditMessage,\n        fileids: row.fileids\n      }\n      this.$refs.audit.displayAudit()\n    },\n    updateUserAuditToAlreadyRead() {\n      const that = this;\n      that.$Spin.show();\n      that.commonUtil.ajaxPutUtil('/audit/updateUserAuditToAlreadyRead', {}, res => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code !== 1) {\n          that.$Message.error(res.msg);\n        }\n      }, (error) => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n    },\n    // 获取审核数据\n    fetchList() {\n      const that = this;\n      that.updateUserAuditToAlreadyRead()\n      that.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              'class': 'demo-spin-icon-load',\n              props: {\n                type: 'ios-loading',\n                size: 18\n              }\n            }),\n            h('div', '加载中')\n          ])\n        }\n      });\n      that.commonUtil.ajaxPostUtil('/audit/logList', that.searchData, res => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          const data = res.data;\n          that.total = data.totalCount;\n          that.data = data.logList;\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, (error) => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n      that.commonUtil.getAuditCountApi(that)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/phaseOne/checkInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',{staticClass:\"breadcrumb\"},[_c('BreadcrumbItem',[_c('Icon',{attrs:{\"type\":\"ios-home-outline\"}}),_vm._v(\"审核管理\\n    \")],1),_vm._v(\" \"),_c('BreadcrumbItem',{staticClass:\"curBreadcrumb\"},[_c('Icon',{attrs:{\"type\":\"logo-buffer\"}}),_vm._v(\" 审核情况\\n    \")],1),_vm._v(\" \"),_c('span',{staticClass:\"screenContent\"},[_c('img',{staticStyle:{\"width\":\"11px\",\"margin-right\":\"8px\",\"margin-left\":\"10px\"},attrs:{\"src\":require(\"../assets/day.png\")}}),_vm._v(\"\\n      \"+_vm._s(_vm.curTime))])],1),_vm._v(\" \"),_c('Content',{staticClass:\"content\",style:({padding: '14px 24px', minHeight: '220px', background: '#fff'})},[_c('Button',{attrs:{\"icon\":\"md-print\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.printContent(9)}}},[_vm._v(\"\\n      打印\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-exit\"},on:{\"click\":function($event){return _vm.excelExcel('/audit/exportAuditLogListExcel/true')}}},[_vm._v(\"\\n      导出\\n    \")]),_vm._v(\" \"),_c('Table',{ref:\"checkTable\",staticClass:\"table\",attrs:{\"highlight-row\":\"\",\"columns\":_vm.columns,\"data\":_vm.data}}),_vm._v(\" \"),_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"show-sizer\":\"\",\"transfer\":\"\",\"total\":_vm.total,\"current\":_vm.searchData.pageNo,\"page-size\":_vm.searchData.pageSize},on:{\"on-change\":_vm.pageNoChange,\"on-page-size-change\":_vm.pageSizeChange}})],1),_vm._v(\" \"),_c('audit',{ref:\"audit\",attrs:{\"form\":_vm.form}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5317f3f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/phaseOne/checkInfo.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5317f3f2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./checkInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/phaseOne/checkInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}