{"version":3,"sources":["webpack:///src/views/archives/archivesElectron.vue","webpack:///./src/views/archives/archivesElectron.vue?5b5c","webpack:///./src/views/archives/archivesElectron.vue"],"names":["archivesElectron","name","components","Crumbs","uploadFile","components_fileUpload","data","drawerPop","treeData","drawerData","created","this","search","methods","that","$Spin","show","commonUtil","ajaxPostUtil","menuList","$store","state","user","res","hide","code","$Message","error","msg","getAuditCountApi","changeSelect","node","$nextTick","$refs","getFileItems","renderContent","h","_ref","_this","root","isArchive","style","display","width","props","type","marginRight","color","fontSize","cursor","on","click","title","archives_archivesElectron","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","parent-manage","children-manage","is-hide","_v","padding","background","closable","model","value","callback","$$v","expression","_s","_f","archiveTime","staticStyle","border-top","margin","height","ref","is-disabled","form","fileids","fileIds","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"kIAiCAA,GACAC,KAAA,UACAC,YAAAC,SAAA,EAAAC,WAAAC,EAAA,GACAC,KAHA,WAIA,OACAC,WAAA,EACAC,YACAC,gBAGAC,QAVA,WAWAC,KAAAC,UAEAC,SACAD,OADA,WAEA,IAAAE,EAAAH,KACAG,EAAAC,MAAAC,OACAF,EAAAG,WAAAC,aAAA,6BAAAC,SAAAL,EAAAM,OAAAC,MAAAC,KAAAH,UAAA,SAAAI,GAEAT,EAAAC,MAAAS,OACA,IAAAD,EAAAE,KACAX,EAAAN,SAAAe,EAAAjB,KAEAQ,EAAAY,SAAAC,MAAAJ,EAAAK,MAEA,WACAd,EAAAY,SAAAC,MAAA,UAEAb,EAAAC,MAAAS,QACAV,GACAA,EAAAG,WAAAY,iBAAAf,IAGAgB,aApBA,SAoBAC,GACA,IAAAjB,EAAAH,KACAG,EAAAL,WAAAsB,EACAjB,EAAAkB,UAAA,WACAlB,EAAAmB,MAAA7B,WAAA8B,eACApB,EAAAP,WAAA,KAGA4B,cA5BA,SA4BAC,EA5BAC,GA4BA,IAAAC,EAAA3B,KAAAL,GAAA+B,EAAAE,KAAAF,EAAAN,KAAAM,EAAA/B,MACAkC,EAAAlC,EAAAkC,UACA,OAAAJ,EAAA,QACAK,OACAC,QAAA,eACAC,MAAA,UAGAP,EAAA,QACAA,EAAA,QACAQ,OACAC,KAAAL,EAAA,iCAEAC,OACAK,YAAAN,EAAA,YACAO,MAAAP,EAAA,iBACAQ,SAAAR,EAAA,iBAGAJ,EAAA,QACAK,OACAQ,OAAAT,EAAA,cAEAU,IACAC,MAAA,WACAX,GAAAF,EAAAR,aAAAxB,MAGAA,EAAA8C,cCnGeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA5C,KAAa6C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,UAAeG,OAAOC,gBAAA,OAAAC,kBAAA,OAAAC,UAAA,MAA8DT,EAAAU,GAAA,KAAAP,EAAA,WAA4BE,YAAA,UAAAnB,OAA8ByB,QAAA,YAAAC,WAAA,UAA2CT,EAAA,QAAaG,OAAOvD,KAAAiD,EAAA/C,SAAA8C,OAAAC,EAAApB,kBAAgD,GAAAoB,EAAAU,GAAA,KAAAP,EAAA,UAA+BG,OAAOT,MAAA,OAAAgB,UAAA,GAAgCC,OAAQC,MAAAf,EAAA,UAAAgB,SAAA,SAAAC,GAA+CjB,EAAAhD,UAAAiE,GAAkBC,WAAA,eAAyBf,EAAA,KAAAH,EAAAU,GAAA,UAAAV,EAAAmB,GAAAnB,EAAA9C,WAAA2C,UAAAG,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAA,MAAAV,EAAAmB,GAAAnB,EAAAoB,GAAA,aAAApB,GAAA9C,WAAAmE,YAAA,kBAAArB,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAA,QAAAV,EAAAmB,GAAAnB,EAAA9C,WAAAgB,SAAA8B,EAAAU,GAAA,KAAAP,EAAA,QAA8PmB,aAAaC,aAAA,iBAAAC,OAAA,WAAApC,MAAA,OAAAqC,OAAA,MAAAtC,QAAA,WAAmGa,EAAAU,GAAA,KAAAP,EAAA,cAA+BuB,IAAA,aAAApB,OAAwBqB,cAAA,GAAAC,MAAyBC,QAAA7B,EAAA9C,WAAA4E,aAAkC,QAEp/BC,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACEzF,EACAqD,GATF,EAEA,KAEA,KAEA,MAUeqC,EAAA,QAAAH,EAAiB","file":"static/js/34.5fd7ed14031b9b264556.js","sourcesContent":["<template>\n  <div class=\"bidding\">\n    <Crumbs\n      :parent-manage=\"'档案管理'\"\n      :children-manage=\"'电子档案'\"\n      is-hide\n    ></Crumbs>\n\n    <!-- table-content -->\n    <Content\n      class=\"content\"\n      :style=\"{padding: '14px 24px', background: '#fff'}\"\n    >\n      <!-- 菜单列表 -->\n      <Tree\n        :data=\"treeData\"\n        :render=\"renderContent\"\n      ></Tree>\n    </Content>\n    <!-- /table-content -->\n    <Drawer v-model=\"drawerPop\" title=\"档案信息\" :closable=\"false\">\n      <p>卷内文件名称：{{ drawerData.title }}</p>\n      <p>日期：{{ drawerData.archiveTime | dateformat('YYYY-MM-DD') }}</p>\n      <p>档案编码：{{ drawerData.code }}</p>\n      <span style=\"border-top:1px solid #ccc;margin:10px 0px;width:100%;height:1px;display:block\"></span>\n      <uploadFile ref=\"uploadFile\" is-disabled :form=\"{fileids: drawerData.fileIds}\" />\n    </Drawer>\n  </div>\n</template>\n\n<script>\nimport Crumbs from '../components/Crumbs';\nimport uploadFile from '@/components/fileUpload.vue'\nexport default {\n  name: 'Bidding',\n  components: { Crumbs, uploadFile },\n  data() {\n    return {\n      drawerPop: false,\n      treeData: [],\n      drawerData: {}\n    }\n  },\n  created() {\n    this.search()\n  },\n  methods: {\n    search() {\n      const that = this;\n      that.$Spin.show();\n      that.commonUtil.ajaxPostUtil('/archives/getArchivesTree', { menuList: that.$store.state.user.menuList }, (res) => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          that.treeData = res.data\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, () => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n      that.commonUtil.getAuditCountApi(that)\n    },\n    // 点击输节点的时候触发\n    changeSelect(node) {\n      const that = this;\n      that.drawerData = node\n      that.$nextTick(() => {\n        that.$refs.uploadFile.getFileItems()\n        that.drawerPop = true;\n      })\n    },\n    renderContent(h, { root, node, data }) {\n      const isArchive = data.isArchive\n      return h('span', {\n        style: {\n          display: 'inline-block',\n          width: '100%'\n        }\n      }, [\n        h('span', [\n          h('Icon', {\n            props: {\n              type: isArchive ? 'md-document' : 'ios-folder-open'\n            },\n            style: {\n              marginRight: isArchive ? '4px' : '8px',\n              color: isArchive ? '#999' : '#2d8cf0',\n              fontSize: isArchive ? '16px' : '18px'\n            }\n          }),\n          h('span', {\n            style: {\n              cursor: isArchive ? 'pointer' : ''\n            },\n            on: {\n              click: () => {\n                if (isArchive) this.changeSelect(data)\n              }\n            }\n          }, data.title)\n        ])\n      ]);\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/archives/archivesElectron.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bidding\"},[_c('Crumbs',{attrs:{\"parent-manage\":'档案管理',\"children-manage\":'电子档案',\"is-hide\":\"\"}}),_vm._v(\" \"),_c('Content',{staticClass:\"content\",style:({padding: '14px 24px', background: '#fff'})},[_c('Tree',{attrs:{\"data\":_vm.treeData,\"render\":_vm.renderContent}})],1),_vm._v(\" \"),_c('Drawer',{attrs:{\"title\":\"档案信息\",\"closable\":false},model:{value:(_vm.drawerPop),callback:function ($$v) {_vm.drawerPop=$$v},expression:\"drawerPop\"}},[_c('p',[_vm._v(\"卷内文件名称：\"+_vm._s(_vm.drawerData.title))]),_vm._v(\" \"),_c('p',[_vm._v(\"日期：\"+_vm._s(_vm._f(\"dateformat\")(_vm.drawerData.archiveTime,'YYYY-MM-DD')))]),_vm._v(\" \"),_c('p',[_vm._v(\"档案编码：\"+_vm._s(_vm.drawerData.code))]),_vm._v(\" \"),_c('span',{staticStyle:{\"border-top\":\"1px solid #ccc\",\"margin\":\"10px 0px\",\"width\":\"100%\",\"height\":\"1px\",\"display\":\"block\"}}),_vm._v(\" \"),_c('uploadFile',{ref:\"uploadFile\",attrs:{\"is-disabled\":\"\",\"form\":{fileids: _vm.drawerData.fileIds}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-290801dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/archives/archivesElectron.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./archivesElectron.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./archivesElectron.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-290801dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./archivesElectron.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/archives/archivesElectron.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}