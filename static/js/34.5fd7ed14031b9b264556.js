webpackJsonp([34],{wQjn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("QeYY"),n=a("J8Iu"),i={name:"Bidding",components:{Crumbs:r.a,uploadFile:n.a},data:function(){return{drawerPop:!1,treeData:[],drawerData:{}}},created:function(){this.search()},methods:{search:function(){var e=this;e.$Spin.show(),e.commonUtil.ajaxPostUtil("/archives/getArchivesTree",{menuList:e.$store.state.user.menuList},function(t){e.$Spin.hide(),1===t.code?e.treeData=t.data:e.$Message.error(t.msg)},function(){e.$Message.error("网络连接错误"),e.$Spin.hide()},e),e.commonUtil.getAuditCountApi(e)},changeSelect:function(e){var t=this;t.drawerData=e,t.$nextTick(function(){t.$refs.uploadFile.getFileItems(),t.drawerPop=!0})},renderContent:function(e,t){var a=this,r=(t.root,t.node,t.data),n=r.isArchive;return e("span",{style:{display:"inline-block",width:"100%"}},[e("span",[e("Icon",{props:{type:n?"md-document":"ios-folder-open"},style:{marginRight:n?"4px":"8px",color:n?"#999":"#2d8cf0",fontSize:n?"16px":"18px"}}),e("span",{style:{cursor:n?"pointer":""},on:{click:function(){n&&a.changeSelect(r)}}},r.title)])])}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bidding"},[a("Crumbs",{attrs:{"parent-manage":"档案管理","children-manage":"电子档案","is-hide":""}}),e._v(" "),a("Content",{staticClass:"content",style:{padding:"14px 24px",background:"#fff"}},[a("Tree",{attrs:{data:e.treeData,render:e.renderContent}})],1),e._v(" "),a("Drawer",{attrs:{title:"档案信息",closable:!1},model:{value:e.drawerPop,callback:function(t){e.drawerPop=t},expression:"drawerPop"}},[a("p",[e._v("卷内文件名称："+e._s(e.drawerData.title))]),e._v(" "),a("p",[e._v("日期："+e._s(e._f("dateformat")(e.drawerData.archiveTime,"YYYY-MM-DD")))]),e._v(" "),a("p",[e._v("档案编码："+e._s(e.drawerData.code))]),e._v(" "),a("span",{staticStyle:{"border-top":"1px solid #ccc",margin:"10px 0px",width:"100%",height:"1px",display:"block"}}),e._v(" "),a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":"",form:{fileids:e.drawerData.fileIds}}})],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,s,!1,null,null,null);t.default=o.exports}});
//# sourceMappingURL=34.5fd7ed14031b9b264556.js.map