webpackJsonp([0],{"0dlO":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA+klEQVQ4T7WTYVUDMRCEZxRQHFRCJdQBGwd1AA5AAg44FGRRQHEADioBFAxv+o57vd7l/txjfyaZL7OTDbGyuFKPCSAiDgDuAOxI3gL4lnQD4BNAAnjLzNPfxQMgIizoJPlQZqYFQ0XEBkCQPEjqMrPz5gAopZwk7S/prfZKKUdJD77kGuBFO2hWRGwBvAMoI0BE2F6VdHQLJM8tSPoh6Qy2dug2+hyc1ThEB0jyZcmBpNfMPIsnAC8sQa7Fs4AWZE7cBPSQZ5L3vdOvWuturrXmJEbEE8nHXvRRa3WAk/pXwJ6k39tPOUr+0sbiZ/J4A9hkpmdjtlb/xl/adX4RxlwtDwAAAABJRU5ErkJggg=="},"7s5I":function(e,t,a){"use strict";var r={name:"Audit",components:{uploadFile:a("J8Iu").a},props:{form:{type:Object,default:function(){}}},data:function(){return{checkModel:!1}},mounted:function(){},methods:{displayAudit:function(){var e=this;this.$nextTick(function(){e.$refs.uploadFile.getFileItems(),e.checkModel=!0})},resetCheck:function(e){this.$refs[e].resetFields();var t=this.$refs.uploadFile;t&&t.clearFileItems(),this.checkModel=!1}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.checkModel,callback:function(t){e.checkModel=t},expression:"checkModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("审核信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1,value:"name1"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Form",{ref:"form",attrs:{model:e.form,"label-width":80}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{style:{color:e.form.result.color},attrs:{label:"审核结果"}},[e._v("\n          "+e._s(e.form.result.name)+"\n        ")])],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"审核人"}},[e._v("\n          "+e._s(e.form.auditMan)+"\n        ")])],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"审核意见"}},[e._v("\n          "+e._s(e.form.auditMessage)+"\n        ")])],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"审核时间"}},[e._v("\n          "+e._s(e.form.auditTime)+"\n        ")])],1)],1)],1),e._v(" "),a("TabPane",{staticClass:"uploadStyle",attrs:{label:"附件",name:"name7"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":"",form:e.form}})],1)],1),e._v(" "),a("p",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-print"}},[e._v("\n      打印\n    ")]),e._v(" "),a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-exit"}},[e._v("\n      导出\n    ")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.resetCheck("form")}}},[e._v("\n      取消\n    ")])],1)],1)},staticRenderFns:[]},i=a("VU/8")(r,n,!1,null,null,null);t.a=i.exports},"94jl":function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r);t.a={data:function(){return{isCreate:!1,total:0,currentRow:{},isSelected:!1,transferValue:!0,isDisabled:!1,status:{0:{name:"正在审核",color:"blue"},1:{name:"审核通过",color:"green"},2:{name:"审核未通过",color:"red"},3:{name:"未审核",color:"orange"}},uploadFile:{fileids:null},auditForm:{auditMan:"",result:{color:"blue",name:"正在审核"},auditMessage:"",fileids:null},startTimeOptions:{},endTimeOptions:{}}},methods:{getNewSearchData:function(){var e=n()({},this.searchData),t=e.startTime,a=e.endTime;return t&&(e.startTime=new Date(t+" 00:00:00").getTime()),a&&(e.endTime=new Date(t+" 23:59:59").getTime()),e},search:function(e,t){var a=this;a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),a.commonUtil.ajaxPostUtil(a.listUrl,e,function(e){a.$Spin.hide(),1===e.code?t(!0,e):(a.$Message.error(e.msg),t(!1))},function(){t(!1),a.$Message.error("网络连接错误"),a.$Spin.hide()},a),a.currentRow={},a.isSelected=!1,a.commonUtil.getAuditCountApi(a)},startTimeChange:function(e){this.searchData.startTime=e,this.endTimeOptions={disabledDate:function(t){var a=e?new Date(e).valueOf():null;return t&&t.valueOf()<a}}},endTimeChange:function(e){this.searchData.endTime=e;var t=e?new Date(e).valueOf()-864e5:null;this.startTimeOptions={disabledDate:function(e){return e&&e.valueOf()>t}}},indexMethod:function(e){var t=e._index;return this.searchData.pageSize*(this.searchData.pageNo-1)+t+1},formatDate:function(e){return e?this.$moment(e).format("YYYY年MM月DD日 HH:mm"):""},pageNoChange:function(e){this.searchData.pageNo=e,this.searchList()},pageSizeChange:function(e){this.searchData.pageSize=e,this.searchList()},selectRow:function(e){this.isSelected=!0,this.currentRow=e},submitForm:function(e,t,a,r){var n=this;n.$refs[e].validate(function(e){e?(n.$Spin.show(),n.commonUtil.ajaxCommonUtil(n.isCreate,a,t,function(e){n.$Spin.hide(),1===e.code?(n.$Message.success(e.msg),r()):n.$Message.error(e.msg)},function(){n.$Message.error("网络连接错误"),n.$Spin.hide()},n)):n.$Message.error("请填写好信息")})},deleteData:function(e,t){var a=this,r=this,n=r.currentRow;r.isSelected?-1!==[2,3].indexOf(n.auditStatus)?r.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){r.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),r.commonUtil.ajaxDeleteUtil(e+n[t],function(e){r.$Spin.hide(),1===e.code?(r.isSelected=!1,r.$Message.success(e.msg),r.searchList()):r.$Message.error(e.msg)},function(e){a.$Message.error("网络连接错误"),a.$Spin.hide()},r)}}):r.$Message.warning("该审核状态下不能删除数据"):r.$Message.warning("您未选择需要删除的内容")},getAuditDetail:function(e,t){var a=this,r=t.row,n=r.auditStatus,i=this.status[n],s=[e("Button",{style:{color:i.color+"!important"},props:{type:"text",size:"small"},on:{click:function(){var e=a.formatDate(r.auditTime);2===n||1===n?(a.auditForm={auditMan:r.auditMan,result:i,auditMessage:r.auditMessage,auditTime:e,fileids:r.fileids},a.$refs.audit.displayAudit()):a.showCheck(r)}}},i.name)];return 2===n&&s.push(e("Button",{style:{color:"green"},props:{type:"text",size:"small"},on:{click:function(){a.showCheck(r)}}},"再次提交")),e("div",s)},showCheck:function(e){var t=this;1!==e.auditStatus?t.$Modal.confirm({title:"是否确认提交审核",content:"",onOk:function(){t.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),t.commonUtil.ajaxPutUtil("/auditBatch/updateAuditBatch",{auditBatchId:e.auditBatchId,auditStatus:0},function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.searchList()):t.$Message.error(e.msg)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)}}):t.$Message.error("项目已经审核通过，无需继续提交")},excelExcel:function(e){var t=this;t.$Spin.show(),t.commonUtil.downFile(e,{},function(e,a){t.$Spin.hide(),t.saveExcel(a,e)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)},saveExcel:function(e,t){var a=new Blob([t]),r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.download=e,document.body.appendChild(r);var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),r.dispatchEvent(n),document.body.removeChild(r)},printContent:function(e){var t={title:this.$route.meta.title,type:e};if(18===e){var a=this.$refs.archivesList.getSelection();if(0===a.length)return void this.$Message.warning("您未选择内容");var r=a.map(function(e){return e.id}).join(",");t.ids=r}var n=this.$router.resolve({path:"/printView",query:t}).href;window.open(n,"_blank")},showInfo:function(e,t){var a=this;this.clearData(),this.form=n()({},e),this.isDisabled=!0,this.$nextTick(function(){a.$refs.uploadFile.getFileItems(),a[t]=!0})}}}},"9c+7":function(e,t,a){"use strict";t.a={data:function(){return{}},methods:{excelExcel:function(e){var t=this;t.$Spin.show(),t.commonUtil.downFile(e,{},function(e,a){t.$Spin.hide(),t.saveExcel(a,e)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)},saveExcel:function(e,t){var a=new Blob([t]),r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.download=e,document.body.appendChild(r);var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),r.dispatchEvent(n),document.body.removeChild(r)},printContent:function(e){var t=this.$router.resolve({path:"/printView",query:{title:this.$route.meta.title,type:e}}).href;window.open(t,"_blank")},indexMethod:function(e){var t=e._index;return this.searchData.pageSize*(this.searchData.pageNo-1)+t+1}}}},CyoZ:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i=a("J8Iu"),s=a("pHVV"),o={name:"EntrustModel",components:{uploadFile:i.a,bottomTotal:s.a},props:{isDisabled:{type:Boolean,value:!1},isCreate:{type:Boolean,value:!1},signGist:{type:Object,default:function(){}},budgetGist:{type:Object,default:function(){}},contractAttr:{type:Object,default:function(){}},contractId:{type:Number,default:null}},data:function(){return{isAdd:!1,tabName:"name1",sumMoney:null,entrustModel:!1,isbtnShow:!0,businessModel:!1,editIndex:-1,editForm:{entrustingContent:"",jobContent:"",summoney:""},entrustList:[],form:{contractId:null,contractType:3,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:""},entrustForm:{entrustingContent:"",jobContent:"",chargingBase:"",proportion:"",summoney:""},entrustRules:{entrustingContent:[{required:!0,message:"请填写委托内容",trigger:"blur"}],jobContent:[{required:!0,message:"请填写工作内容",trigger:"blur"}],chargingBase:[{required:!0,message:"请填写取费基数",trigger:"blur"}],proportion:[{required:!0,message:"请填写比例",trigger:"blur"}],summoney:[{required:!0,message:"请填写总价",trigger:"blur"}]},ruleValidateType:{contractName:[{required:!0,message:"请填写合同名称",trigger:"blur"}],budgetGist:[{type:"number",required:!0,message:"请选择预算依据",trigger:"change"}],signGist:[{type:"number",required:!0,message:"请填写签订依据",trigger:"change"}],contractAttr:[{type:"number",required:!0,message:"请填写合同属性",trigger:"change"}],signDate:[{type:"date",required:!0,message:"请选择签订日期",trigger:"change"}],executeTime:[{type:"date",required:!0,message:"请选择执行时间",trigger:"change"}],yifangName:[{required:!0,message:"请填写乙方名称",trigger:"blur"}],yifangAddr:[{required:!0,message:"请填写乙方地址",trigger:"blur"}],yifangPhone:[{required:!0,message:"请填写联系电话",trigger:"blur"}],legalPersion:[{required:!0,message:"请填写法人代表",trigger:"blur"}],certigier:[{required:!0,message:"请填写授权人",trigger:"blur"}],depositBank:[{required:!0,message:"请填写开户银行",trigger:"blur"}],depositBankNum:[{required:!0,message:"请填写账号",trigger:"blur"}],dutyParagraph:[{required:!0,message:"请填写税号",trigger:"blur"}]}}},computed:{entrustColumns:function(){return[{type:"index",title:"序号",width:60,align:"center",fixed:"left"},{title:"委托内容",slot:"entrustingContent"},{title:"工作内容",slot:"jobContent"},{title:"总价",slot:"summoney"},{align:"center",title:"操作",slot:"action",width:"130"}]}},mounted:function(){},methods:{getNewForm:function(){var e=n()({},this.form);return e.signDate=new Date(e.signDate).getTime(),e.executeTime=new Date(e.executeTime).getTime(),e.fileIds=this.$refs.uploadFile.getFileIds(),e},entrustListAdd:function(){var e=this;e.$refs.form.validate(function(t){if(t)if(e.form.contractId)e.businessModel=!0;else{var a=e.getNewForm();e.$Spin.show(),e.commonUtil.ajaxPostUtil("/contract/addContract",a,function(t){e.$Spin.hide(),1===t.code?(e.isAdd=!0,e.form.contractId=t.data,e.$refs.entrustForm.resetFields(),e.businessModel=!0):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)}else e.$Message.error("请先填写设备购置合同的基本信息！")})},formatData:function(e){return this.$moment(e).format("YYYY-MM-DD")},refreshList:function(e){var t=this;t.editIndex=-1,t.$Spin.show(),t.commonUtil.ajaxGetUtil("/contract/searchContractInfo/"+t.form.contractId,{},function(a){if(t.$Spin.hide(),1===a.code){var r=a.data,n=r.entrustListCollection;t.entrustList=n.searchEntrustCollections,t.sumMoney=n.sumMoney,e&&e(r)}else t.$Message.error(a.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)},handleEntrustSave:function(){var e=this;e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","修改数据中")])}}),e.commonUtil.ajaxPutUtil("/contract/updateEntrust",e.editForm,function(t){e.$Spin.hide(),1===t.code?(e.$Message.success(t.msg),e.refreshList()):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)},handleEntrustDelete:function(e){var t=this,a=this;a.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),a.commonUtil.ajaxDeleteUtil("/contract/deleteEntrust/"+e,function(e){a.$Spin.hide(),1===e.code?(a.$Message.success(e.msg),a.refreshList()):a.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},a)}})},handleEntrustEdit:function(e,t){this.editIndex=t,this.editForm=n()({},e)},handleInlineCancel:function(){this.businessModel=!1},handleInlineConfirm:function(e){var t=this;t.$refs[e].validate(function(e){e?(t.$Spin.show(),t.entrustForm.contractId=t.form.contractId,t.commonUtil.ajaxPostUtil("/contract/addEntrust",t.entrustForm,function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.$refs.entrustForm.resetFields(),t.businessModel=!1,t.refreshList()):t.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)):t.$Message.error("请填写好信息")})},showModal:function(e){var t=this;t.clearFormCon(),e&&(t.form.contractId=t.contractId,t.form.contractType=e,t.contractId&&t.refreshList(function(e){e.executeTime=t.formatData(e.executeTime),e.signDate=t.formatData(e.signDate),t.form=e,t.$nextTick(function(){t.$refs.uploadFile.getFileItems()})})),t.entrustModel=!0},handleConfirm:function(e){var t=this;t.$refs[e].validate(function(e){if(e){var a=t.isCreate,r=a?"/contract/addContract":"/contract/updateContract",n=t.getNewForm();t.isAdd?(t.entrustModel=!1,t.$emit("refreshList")):t.commonUtil.ajaxCommonUtil(a,r,n,function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.entrustModel=!1,t.$emit("refreshList")):t.$Message.error(e.msg)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)}else t.$Message.error("请填写好委托业务合同信息")})},clearFormCon:function(){this.form={contractId:null,contractType:3,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:""},this.entrustForm={entrustingContent:"",jobContent:"",chargingBase:"",proportion:"",summoney:""},this.entrustList=[],this.tabName="name1",this.sumMoney=null,this.isAdd=!1,this.$refs.form.resetFields(),this.$refs.entrustForm.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.entrustModel,callback:function(t){e.entrustModel=t},expression:"entrustModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("委托业务合同")]):a("span",[e._v("请添加委托业务合同")])]),e._v(" "),a("Form",{ref:"form",attrs:{model:e.form,rules:e.ruleValidateType,"label-width":80}},[a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同名称",prop:"contractName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写合同名称"},model:{value:e.form.contractName,callback:function(t){e.$set(e.form,"contractName","string"==typeof t?t.trim():t)},expression:"form.contractName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"预算依据",prop:"budgetGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择预算依据"},model:{value:e.form.budgetGist,callback:function(t){e.$set(e.form,"budgetGist",t)},expression:"form.budgetGist"}},e._l(e.budgetGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订依据",prop:"signGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请填写签订依据"},model:{value:e.form.signGist,callback:function(t){e.$set(e.form,"signGist",t)},expression:"form.signGist"}},e._l(e.signGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同属性",prop:"contractAttr"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:!0,filterable:"",placeholder:"请填写合同属性"},model:{value:e.form.contractAttr,callback:function(t){e.$set(e.form,"contractAttr",t)},expression:"form.contractAttr"}},e._l(e.contractAttr,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订日期",prop:"signDate"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择签订日期",transfer:!0},model:{value:e.form.signDate,callback:function(t){e.$set(e.form,"signDate",t)},expression:"form.signDate"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"执行时间",prop:"executeTime"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择执行时间",transfer:!0},model:{value:e.form.executeTime,callback:function(t){e.$set(e.form,"executeTime",t)},expression:"form.executeTime"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"委托业务",name:"name2"}},[a("Content",{staticClass:"content",style:{padding:"14px 24px",background:"#fff"}},[a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.entrustListAdd}},[e._v("\n              添加\n            ")]),e._v(" "),a("Table",{key:"table1",ref:"entrustList",staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{"highlight-row":"",columns:e.entrustColumns,data:e.entrustList},scopedSlots:e._u([{key:"entrustingContent",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.entrustingContent,callback:function(t){e.$set(e.editForm,"entrustingContent","string"==typeof t?t.trim():t)},expression:"editForm.entrustingContent"}}):a("span",[e._v(e._s(r.entrustingContent))])]}},{key:"jobContent",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.jobContent,callback:function(t){e.$set(e.editForm,"jobContent","string"==typeof t?t.trim():t)},expression:"editForm.jobContent"}}):a("span",[e._v(e._s(r.jobContent))])]}},{key:"summoney",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.summoney,callback:function(t){e.$set(e.editForm,"summoney","string"==typeof t?t.trim():t)},expression:"editForm.summoney"}}):a("span",[e._v(e._s(r.summoney))])]}},{key:"action",fn:function(t){var r=t.row,n=t.index;return e.isbtnShow?[e.editIndex===n?a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustSave()}}},[e._v("\n                    保存\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustDelete(r.id)}}},[e._v("\n                    删除\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){e.editIndex=-1}}},[e._v("\n                    取消\n                  ")])],1):a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustEdit(r,n)}}},[e._v("\n                    操作\n                  ")])],1)]:void 0}}],null,!0)}),e._v(" "),a("bottomTotal",{attrs:{name:"总计",sum:e.sumMoney}})],1)],1),e._v(" "),a("TabPane",{attrs:{label:"乙方信息",name:"name3"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方名称",prop:"yifangName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方名称"},model:{value:e.form.yifangName,callback:function(t){e.$set(e.form,"yifangName","string"==typeof t?t.trim():t)},expression:"form.yifangName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方地址",prop:"yifangAddr"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方地址"},model:{value:e.form.yifangAddr,callback:function(t){e.$set(e.form,"yifangAddr","string"==typeof t?t.trim():t)},expression:"form.yifangAddr"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"yifangPhone"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写联系电话"},model:{value:e.form.yifangPhone,callback:function(t){e.$set(e.form,"yifangPhone","string"==typeof t?t.trim():t)},expression:"form.yifangPhone"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"法人代表",prop:"legalPersion"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写法人代表"},model:{value:e.form.legalPersion,callback:function(t){e.$set(e.form,"legalPersion","string"==typeof t?t.trim():t)},expression:"form.legalPersion"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"授权人",prop:"certigier"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写授权人"},model:{value:e.form.certigier,callback:function(t){e.$set(e.form,"certigier","string"==typeof t?t.trim():t)},expression:"form.certigier"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开户银行",prop:"depositBank"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写开户银行"},model:{value:e.form.depositBank,callback:function(t){e.$set(e.form,"depositBank","string"==typeof t?t.trim():t)},expression:"form.depositBank"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"账号",prop:"depositBankNum"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写账号"},model:{value:e.form.depositBankNum,callback:function(t){e.$set(e.form,"depositBankNum","string"==typeof t?t.trim():t)},expression:"form.depositBankNum"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"税号",prop:"dutyParagraph"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写税号"},model:{value:e.form.dutyParagraph,callback:function(t){e.$set(e.form,"dutyParagraph","string"==typeof t?t.trim():t)},expression:"form.dutyParagraph"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name4"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,form:{fileids:e.form.contractFileIds}}})],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){e.entrustModel=!1}}},[e._v("\n        取消\n      ")])],1)],1),e._v(" "),a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.businessModel,callback:function(t){e.businessModel=t},expression:"businessModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("委托业务合同内容")]):a("span",[e._v("请添加委托业务合同内容")])]),e._v(" "),a("Form",{ref:"entrustForm",attrs:{model:e.entrustForm,rules:e.entrustRules,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"委托内容",prop:"entrustingContent"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写委托内容"},model:{value:e.entrustForm.entrustingContent,callback:function(t){e.$set(e.entrustForm,"entrustingContent","string"==typeof t?t.trim():t)},expression:"entrustForm.entrustingContent"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工作内容",prop:"jobContent"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写工作内容"},model:{value:e.entrustForm.jobContent,callback:function(t){e.$set(e.entrustForm,"jobContent","string"==typeof t?t.trim():t)},expression:"entrustForm.jobContent"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"取费基数",prop:"chargingBase"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写取费基数"},model:{value:e.entrustForm.chargingBase,callback:function(t){e.$set(e.entrustForm,"chargingBase","string"==typeof t?t.trim():t)},expression:"entrustForm.chargingBase"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"比例",prop:"proportion"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写比例"},model:{value:e.entrustForm.proportion,callback:function(t){e.$set(e.entrustForm,"proportion","string"==typeof t?t.trim():t)},expression:"entrustForm.proportion"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"总价",prop:"summoney"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写总价"},model:{value:e.entrustForm.summoney,callback:function(t){e.$set(e.entrustForm,"summoney","string"==typeof t?t.trim():t)},expression:"entrustForm.summoney"}})],1)],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left",height:"30px"},attrs:{slot:"footer"},slot:"footer"},[e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleInlineConfirm("entrustForm")}}},[e._v("\n        确认\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){return e.handleInlineCancel("entrustForm")}}},[e._v("\n        取消\n      ")])],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(o,l,!1,null,null,null);t.a=d.exports},GWuB:function(e,t){},J8Iu:function(e,t,a){"use strict";var r=a("2MpT"),n={name:"FileUpload",props:{isDisabled:{type:Boolean,default:!1},isCreate:{type:Boolean,default:!0},form:{type:Object,default:function(){}},isPdf:{type:Boolean,default:!0},isJpg:{type:Boolean,default:!1},num:{type:Number,default:10},flag:{type:Boolean,default:!1}},data:function(){return{fileForm:{index:null,id:null,name:""},fileModal:!1,uploadUrl:this.flag?"http://api.tjjnht.cn/api/uploadFile":"http://www.tjjnht.cn/web/file/upload",fileItems:[],fileFormRules:{name:[{required:!0,message:"请选择文件名称",trigger:"change"}]}}},methods:{updateFileName:function(){var e=this;e.$refs.form.validate(function(t){if(t){e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}});var a=e.fileForm;e.commonUtil.ajaxPutUtil("/file/update",a,function(t){if(e.$Spin.hide(),1===t.code){var r=a.index,n=e.fileItems;n[r].name=a.name,e.fileItems=n,e.$Message.success("修改文件名成功！")}else e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)}})},showFileModel:function(e,t,a){this.fileForm={id:e,name:t,index:a},this.fileModal=!0},clearFileItems:function(){this.fileItems=[]},getFileItems:function(e){var t=this;if(t.flag)t.fileItems=e.map(function(e){var t=e.enclosureUrl;return{id:e.id,url:t,name:t.substring(t.lastIndexOf("/")+1,t.length)}});else{var a=this.form.fileids;t.clearFileItems(),a&&(t.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),t.commonUtil.ajaxGetUtil("/file/searchFileInfoByIds/"+a,{},function(e){t.$Spin.hide(),1===e.code?t.fileItems=e.data:t.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t))}},downloadPdf:function(e,t,a){var r=this;if(e)if(r.flag){var n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else r.$Spin.show(),r.commonUtil.downFile("/file/download",{fileId:e},function(e){r.$Spin.hide(),r.savePdf(t,e)},function(e){r.$Message.error("网络连接错误"),r.$Spin.hide()},r);else r.$Message.error("下载失败")},savePdf:function(e,t){var a=this.flag,r=new Blob([t]),n=document.createElement("a");n.href=a?t:window.URL.createObjectURL(r),n.download=e,document.body.appendChild(n);var i=document.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i),document.body.removeChild(n)},getFiles:function(){return this.fileItems.map(function(e){return{enclosureUrl:e.url}})},getFileIds:function(){return this.fileItems.map(function(e){return e.id}).join(",")},onPreview:function(e,t,a){if(this.flag){var r="http://39.107.79.40:8012/onlinePreview?url="+encodeURIComponent(a);window.open(r)}else this.commonUtil.onlinePreview(e,t)},uploadHead:function(){return this.flag?{}:this.commonUtil.getToken()},handleClearFiles:function(){this.$refs.uploadBox.clearFiles()},handleUpload:function(e){this.handleClearFiles();var t=this.isJpg?"jpg|jpeg|png":this.isPdf?"pdf":"pdf|doc|docx",a=e.name,r=a.substr(a.lastIndexOf(".")+1).toLowerCase(),n=e.size/1024/1024<50,i=!(-1===t.indexOf(r)),s=this.fileItems.length<this.num;if(i)n?s||this.$Message.error("上传文件数量不能大于"+this.num+"个"):this.$Message.error("上传文件大小不能超过 50MB!");else{var o=this.isJpg?"jpg、jpeg、png":this.isPdf?"pdf":"pdf、doc";this.$Message.error("文件格式暂只支持"+o+"!")}return i&&n&&s&&this.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","正在上传附件中，请稍候......")])}}),i&&n&&s},uploadSuccess:function(e,t,a){this.$Spin.hide();var r=this.flag;if(r?e.ok:1===e.code){var n=r?e:e.data;this.fileItems.push({id:r?t.uid:n.id,name:r?t.name:n.name,url:r?n.data:n.url}),this.$Message.success("上传成功")}else this.$Message.error(r?e.message:e.msg)},onError:function(){this.$Spin.hide(),this.$Message.error("上传失败")},onRemove:function(e,t){var a=this;a.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){var n=a.flag;n&&a.isCreate?a.fileItems.splice(t,1):(a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),n?r.a.ajaxPostUtil("/deleteAcceptancePicture?pictureId="+e,{},function(e){a.$Spin.hide(),e.ok?a.fileItems.splice(t,1):a.$Message.error(e.message)},function(){a.$Message.error("网络连接错误"),a.$Spin.hide()},a):a.commonUtil.ajaxDeleteUtil("/file/deleteFile/"+e,function(e){a.$Spin.hide(),1===e.code?a.fileItems.splice(t,1):a.$Message.error(e.msg)},function(){a.$Message.error("网络连接错误"),a.$Spin.hide()},a))}})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fileUpload"},[e.isDisabled?e._e():a("div",[a("b",[a("Icon",{staticStyle:{"margin-right":"10px"},attrs:{size:"16",type:"md-alert"}}),e._v("请上传与设置信息一致的附件或证明性文件，本系统只接受"+e._s(e.isJpg?"JPG、JPEG、PNG":e.isPdf?"PDF":"PDF、WORD")+"格式文件，请上传前进行确认。")],1),e._v(" "),a("Upload",{ref:"uploadBox",attrs:{"before-upload":e.handleUpload,accept:e.isJpg?".jpg,.jpeg,.png":e.isPdf?".pdf":".pdf,.doc",disabled:e.isDisabled,"on-success":e.uploadSuccess,"on-error":e.onError,"show-upload-list":!1,headers:e.uploadHead(),action:e.uploadUrl}},[a("Button",{staticClass:"uploadBtn",staticStyle:{border:"none",color:"#2b85e4"},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("\n        点击此处上传\n      ")])],1)],1),e._v(" "),a("ul",{staticClass:"ivu-upload-list"},e._l(e.fileItems,function(t,r){return a("li",{key:t.id,staticClass:"ivu-upload-list-file ivu-upload-list-file-finish"},[a("span",{on:{click:function(a){return e.onPreview(t.id,t.name,t.url)}}},[a("i",{staticClass:"ivu-icon ivu-icon-md-document"}),e._v(e._s(t.name))]),e._v(" "),a("Icon",{attrs:{type:"md-download"},on:{click:function(a){return e.downloadPdf(t.id,t.name,t.url)}}}),e._v(" "),e.isDisabled?e._e():a("span",{staticStyle:{"margin-left":"10px"},on:{click:function(a){return e.showFileModel(t.id,t.name,r)}}},[e._v("修改文件名")]),e._v(" "),e.isDisabled?e._e():a("i",{staticClass:"ivu-icon ivu-icon-ios-close ivu-upload-list-remove",on:{click:function(a){return e.onRemove(t.id,r)}}})],1)}),0),e._v(" "),a("Modal",{attrs:{title:"修改文件名称"},on:{"on-ok":e.updateFileName},model:{value:e.fileModal,callback:function(t){e.fileModal=t},expression:"fileModal"}},[a("Form",{ref:"form",attrs:{model:e.fileForm,rules:e.fileFormRules,"label-width":80}},[a("FormItem",{attrs:{label:"文件名称",prop:"name"}},[a("Input",{attrs:{clearable:"",placeholder:"请填写文件名称"},model:{value:e.fileForm.name,callback:function(t){e.$set(e.fileForm,"name","string"==typeof t?t.trim():t)},expression:"fileForm.name"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(n,i,!1,function(e){a("VEQi")},null,null);t.a=s.exports},LC7k:function(e,t,a){"use strict";var r=a("fZjL"),n=a.n(r),i=a("BO1k"),s=a.n(i),o={name:"MulUploadFile",props:{isDisabled:{type:Boolean,default:!1},isPdf:{type:Boolean,default:!0},uploadList:{type:Object,default:function(){return{}}},num:{type:Number,default:10}},data:function(){return{uploadIndex:null,fileItems:{},uploadUrl:"http://www.tjjnht.cn/api/file/upload"}},mounted:function(){},methods:{getFileItems:function(e){if(e&&e.length>0){var t={},a=void 0,r=!0,n=!1,i=void 0;try{for(var o,l=s()(e);!(r=(o=l.next()).done);r=!0){var d=o.value;a={id:d.id,fileId:d.fileId,fileName:d.fileName},t[d.fileType]?t[d.fileType].push(a):t[d.fileType]=[a]}}catch(e){n=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw i}}this.$set(this,"fileItems",t)}},getFileIds:function(){var e={},t=this.fileItems;for(var a in t)t[a]&&t[a].length>0&&(e[a]=t[a].map(function(e){return e.fileId}).join(","));return e},downloadPdf:function(e,t){var a=this;e?(a.$Spin.show(),a.commonUtil.downFile("/file/download",{fileId:e},function(e){a.$Spin.hide(),a.savePdf(t,e)},function(e){a.$Message.error("网络连接错误"),a.$Spin.hide()},a)):a.$Message.error("下载失败")},savePdf:function(e,t){var a=new Blob([t]),r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.download=e,document.body.appendChild(r);var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),r.dispatchEvent(n),document.body.removeChild(r)},onPreview:function(e,t){this.commonUtil.onlinePreview(e,t)},uploadHead:function(){return this.commonUtil.getToken()},clearFileItems:function(){this.fileItems={};var e=!0,t=!1,a=void 0;try{for(var r,i=s()(n()(this.uploadList));!(e=(r=i.next()).done);e=!0){var o=r.value;this.handleClearFiles(o)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}},handleClearFiles:function(e){this.$refs["uploadBox"+e][0].clearFiles()},handleUpload:function(e){var t=this.uploadIndex;this.handleClearFiles(t);var a=this.isPdf?"pdf":"pdf|doc|docx",r=e.name,n=r.substr(r.lastIndexOf(".")+1).toLowerCase(),i=e.size/1024/1024<50,s=!(-1===a.indexOf(n)),o=(this.fileItems[t]?this.fileItems[t].length:0)<this.num;if(s)i?o||this.$Message.error(this.uploadList[t]+"上传文件数量不能大于"+this.num+"个"):this.$Message.error("上传文件大小不能超过 50MB!");else{var l=this.isPdf?"pdf":"pdf、doc";this.$Message.error("文件格式暂只支持"+l+"!")}return s&&i&&o&&this.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","正在上传附件中，请稍候......")])}}),s&&i&&o},uploadSuccess:function(e,t,a){if(this.$Spin.hide(),1===e.code){var r=e.data,n={fileId:r.id,fileName:r.name};this.fileItems[this.uploadIndex]?this.fileItems[this.uploadIndex].push(n):this.$set(this.fileItems,this.uploadIndex,[n]),this.$Message.success("上传成功")}else this.$Message.error(e.msg)},onError:function(){this.$Spin.hide(),this.$Message.error("上传失败")},onRemove:function(e,t){var a=this;a.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),a.commonUtil.ajaxDeleteUtil("/bidding/deleteFile/"+t,function(r){if(a.$Spin.hide(),1===r.code){var n=a.fileItems[e];for(var i in n)if(n[i].fileId===t){n.splice(i,1),a.$Message.success("删除成功");break}}else a.$Message.error(r.msg)},function(e){a.$Message.error("网络连接错误"),a.$Spin.hide()},a)}})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mulUploadFile"},[e.isDisabled?e._e():a("div",[a("b",[a("Icon",{staticStyle:{"margin-right":"10px"},attrs:{size:"16",type:"md-alert"}}),e._v("请上传与设置信息一致的附件或证明性文件，本系统只接受"+e._s(e.isPdf?"PDF":"PDF、WORD")+"格式文件，请上传前进行确认。")],1)]),e._v(" "),e._l(e.uploadList,function(t,r){return a("div",{key:r},[a("span",{staticClass:"fileName"},[a("b",[e._v(e._s(r))]),e._v(e._s("、"+t))]),e._v(" "),a("Upload",{ref:"uploadBox"+r,refInFor:!0,staticStyle:{display:"inline-block"},attrs:{"before-upload":e.handleUpload,accept:e.isPdf?".pdf":".pdf,.doc",disabled:e.isDisabled,"on-success":e.uploadSuccess,"on-error":e.onError,"show-upload-list":!1,headers:e.uploadHead(),action:e.uploadUrl}},[a("Button",{staticClass:"uploadBtn",staticStyle:{border:"none",color:"#2b85e4"},attrs:{icon:"ios-cloud-upload-outline"},on:{click:function(t){e.uploadIndex=r}}},[e._v("\n        点击此处上传\n      ")])],1),e._v(" "),e.fileItems[r]&&e.fileItems[r].length>0?a("ul",{staticClass:"ivu-upload-list"},e._l(e.fileItems[r],function(t){return a("li",{key:t.id,staticClass:"ivu-upload-list-file ivu-upload-list-file-finish"},[a("span",{on:{click:function(a){return e.onPreview(t.fileId,t.name)}}},[a("i",{staticClass:"ivu-icon ivu-icon-md-document"}),e._v(e._s(t.fileName))]),e._v(" "),a("Icon",{attrs:{type:"md-download"},on:{click:function(a){return e.downloadPdf(t.fileId,t.name)}}}),e._v(" "),e.isDisabled?e._e():a("i",{staticClass:"ivu-icon ivu-icon-ios-close ivu-upload-list-remove",on:{click:function(a){return e.onRemove(r,t.fileId)}}})],1)}),0):e._e()],1)})],2)},staticRenderFns:[]};var d=a("VU/8")(o,l,!1,function(e){a("f86/")},null,null);t.a=d.exports},P0nn:function(e,t,a){"use strict";var r=a("J8Iu"),n=a("pHVV"),i=a("T3YM"),s={name:"ImplementPlan",components:{uploadFile:r.a,bottomTotal:n.a},props:{searchData:{type:Object,default:function(){}}},data:function(){var e=this;return{form:{fileids:null},isPopUp:!1,otherModal:!1,projectUnit:{1:{label:"平方米"},2:{label:"立方米"},3:{label:"米"},4:{label:"个"}},equipUnit:{1:{label:"个"},2:{label:"座"},3:{label:"台（套）"}},constructionColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"建设内容",key:"auditSubentryContent"},{title:"单位",key:"auditSubentryUnit",render:function(t,a){var r=a.row;return t("div",e.getUnitName(r.auditSubentryUnit,r.auditSubentryType))}},{title:"规模",key:"auditSubentryScale"},{title:"单价（元）",key:"auditSubentryPrice"},{title:"投资额（万元）",key:"auditSubentryVolume"}],constructionList:[],equipColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"设备名称",key:"auditSubentryContent"},{title:"型号",key:"equipType"},{title:"参数",key:"equipParam"},{title:"单位",key:"auditSubentryUnit",render:function(t,a){var r=a.row;return t("div",e.getUnitName(r.auditSubentryUnit,r.auditSubentryType))}},{title:"规模",key:"auditSubentryScale"},{title:"单价",key:"auditSubentryPrice"},{title:"投资额（万元）",key:"auditSubentryVolume"}],equipList:[],otherProjectColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"建设内容",key:"auditSubentryContent"},{title:"单位",key:"auditSubentryUnit",render:function(t,a){var r=a.row;return t("div",e.getUnitName(r.auditSubentryUnit,r.auditSubentryType))}},{title:"规模",key:"auditSubentryScale"},{title:"单价",key:"auditSubentryPrice"},{title:"投资额（万元）",key:"auditSubentryVolume"}],otherProjectList:[],otherCostColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"费用名称",key:"auditSubentryContent"},{title:"计取比例",key:"costScale"},{title:"计取基数",key:"costCardinal"},{title:"投资额（万元）",key:"auditSubentryVolume"}],otherCostList:[],reserveColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"费用名称",key:"auditSubentryContent"},{title:"计取比例",key:"costScale"},{title:"计取基数",key:"costCardinal"},{title:"投资额（万元）",key:"auditSubentryVolume"}],reserveList:[],otherColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"建设内容",key:"auditSubentryContent"},{title:"单位",key:"auditSubentryUnit"},{title:"规模",key:"auditSubentryScale"},{title:"单价",key:"auditSubentryPrice",render:function(t,a){var r=a.row;return t("div",e.getUnitName(r.auditSubentryUnit,r.auditSubentryType))}},{title:"投资额（万元）",key:"auditSubentryVolume"}],otherList:[],totalColumn:[{type:"index",title:"序号",width:60,align:"center"},{title:"分项名称",key:"auditSubentryName"},{title:"内容",key:"auditSubentryContent"},{title:"单位",key:"auditSubentryUnit",render:function(t,a){var r=a.row;return t("div",e.getUnitName(r.auditSubentryUnit,r.auditSubentryType))}},{title:"规模",key:"auditSubentryScale"},{title:"投资额（万元）",key:"auditSubentryVolume",align:"right"}],totalList:[],tabIndex:0}},computed:{totalVolume:function(){var e=0;return this.totalList.forEach(function(t){e=i.a.accAdd(e,t.auditSubentryVolume)}),e}},methods:{search:function(){var e=this;e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),e.commonUtil.ajaxPostUtil("/auditSubentry/searchAllAuditSubentry",e.searchData,function(t){e.$Spin.hide();var a=t.data;if(1===t.code)for(var r in a){var n=a[r];7===parseInt(r)?e.form={fileids:n}:0!==n.length&&e.getRightType(r,n)}else e.$Message.error(t.msg);0!==a[6].length?e.$nextTick(function(){e.$refs.uploadFile2.getFileItems(),e.otherModal=!0}):e.$nextTick(function(){e.$refs.uploadFile1.getFileItems(),e.isPopUp=!0})},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)},getUnitName:function(e,t){var a=this.tabIndex;if(null===e)return"";var r=this.getUnitArray(0===a?t:a);return e?r[e].label:""},switchTab:function(e){var t=["name0","name1","name2","name3","name4","name5","name6"].indexOf(e);this.tabIndex=t},getUnitArray:function(e){return 2===e?this.equipUnit:this.projectUnit},closeModal:function(e){e||(this.constructionList=[],this.equipList=[],this.otherProjectList=[],this.otherCostList=[],this.reserveList=[],this.otherList=[],this.totalList=[],this.form={fileids:null})},getRightType:function(e,t){switch(parseInt(e)){case 0:this.totalList=t;break;case 1:this.constructionList=t;break;case 2:this.equipList=t;break;case 3:this.otherProjectList=t;break;case 4:this.otherCostList=t;break;case 5:this.reserveList=t;break;case 6:this.otherList=t}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{attrs:{"mask-closable":!1,width:"75%"},on:{"on-visible-change":e.closeModal},model:{value:e.isPopUp,callback:function(t){e.isPopUp=t},expression:"isPopUp"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("投资汇总信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},on:{"on-click":e.switchTab}},[a("TabPane",{attrs:{label:"投资汇总表",name:"name0"}},[a("Table",{key:"table1",attrs:{columns:e.totalColumn,data:e.totalList}}),e._v(" "),a("bottomTotal",{attrs:{name:"总投资额",sum:e.totalVolume}})],1),e._v(" "),a("TabPane",{attrs:{label:"建筑安装工程",name:"name1"}},[a("Table",{key:"table2",attrs:{columns:e.constructionColumn,data:e.constructionList}})],1),e._v(" "),a("TabPane",{attrs:{label:"仪器设备购置",name:"name2"}},[a("Table",{key:"table3",attrs:{columns:e.equipColumn,data:e.equipList}})],1),e._v(" "),a("TabPane",{attrs:{label:"其他配套工程",name:"name3"}},[a("Table",{key:"table4",attrs:{columns:e.otherProjectColumn,data:e.otherProjectList}})],1),e._v(" "),a("TabPane",{attrs:{label:"工程建设其他费用",name:"name4"}},[a("Table",{key:"table5",attrs:{columns:e.otherCostColumn,data:e.otherCostList}})],1),e._v(" "),a("TabPane",{attrs:{label:"预备费",name:"name5"}},[a("Table",{key:"table6",attrs:{columns:e.reserveColumn,data:e.reserveList}})],1),e._v(" "),a("TabPane",{staticClass:"uploadStyle",attrs:{label:"附件",name:"name7"}},[a("uploadFile",{ref:"uploadFile1",attrs:{"is-disabled":"",form:e.form}})],1)],1),e._v(" "),a("p",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-print"}},[e._v("\n        打印\n      ")]),e._v(" "),a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-exit"}},[e._v("\n        导出\n      ")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.isPopUp=!1}}},[e._v("\n        确认\n      ")]),e._v(" "),a("Button",{on:{click:function(t){e.isPopUp=!1}}},[e._v("\n        取消\n      ")])],1)],1),e._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"75%"},on:{"on-visible-change":e.closeModal},model:{value:e.otherModal,callback:function(t){e.otherModal=t},expression:"otherModal"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("投资汇总信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1}},[a("TabPane",{attrs:{label:"其他经费支出明细",name:"name6"}},[a("Table",{key:"table7",attrs:{columns:e.otherColumn,data:e.otherList}})],1),e._v(" "),a("TabPane",{staticClass:"uploadStyle",attrs:{label:"附件",name:"name7"}},[a("uploadFile",{ref:"uploadFile2",attrs:{"is-disabled":"",form:e.form}})],1)],1),e._v(" "),a("p",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-print"}},[e._v("\n        打印\n      ")]),e._v(" "),a("Button",{staticStyle:{float:"left"},attrs:{icon:"md-exit"}},[e._v("\n        导出\n      ")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.otherModal=!1}}},[e._v("\n        确认\n      ")]),e._v(" "),a("Button",{on:{click:function(t){e.otherModal=!1}}},[e._v("\n        取消\n      ")])],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(s,o,!1,null,null,null);t.a=l.exports},QeYY:function(e,t,a){"use strict";var r={name:"Crumbs",props:{parentManage:{type:String,default:function(){return""}},childrenManage:{type:String,default:function(){return""}},isHide:{type:Boolean,default:function(){return!1}}},data:function(){return{isScreen:!1,curTime:this.$moment(new Date).format("YYYY-MM-DD HH:mm")}},methods:{isShowScreen:function(){this.isScreen=!this.isScreen,this.$emit("isShowScreen",this.isScreen)}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"crumbs"},[r("Breadcrumb",{staticClass:"breadcrumb"},[r("BreadcrumbItem",[r("Icon",{attrs:{type:"ios-home-outline"}}),e._v(e._s(e.parentManage)+"\n    ")],1),e._v(" "),r("BreadcrumbItem",{staticClass:"curBreadcrumb"},[r("Icon",{attrs:{type:"logo-buffer"}}),e._v(e._s(e.childrenManage)+"\n    ")],1),e._v(" "),r("span",{staticClass:"screenContent"},[r("img",{staticStyle:{width:"11px","margin-right":"8px","margin-left":"10px"},attrs:{src:a("hmnq")}}),e._v("\n      "+e._s(e.curTime))]),e._v(" "),e.isHide?e._e():r("span",{staticClass:"screenContent"},[r("img",{staticStyle:{width:"10.5px","margin-right":"8px"},attrs:{src:a("0dlO")}}),e._v(" "),r("a",{attrs:{href:"javascript:void(0)"},on:{click:e.isShowScreen}},[e._v("\n        筛选\n        "),r("Icon",{attrs:{type:"ios-arrow-down"}})],1)])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,n,!1,function(e){a("GWuB")},null,null);t.a=i.exports},SuqQ:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i=a("J8Iu"),s=a("pHVV"),o={name:"ConstructionModel",components:{uploadFile:i.a,bottomTotal:s.a},props:{isDisabled:{type:Boolean,value:!1},isCreate:{type:Boolean,value:!1},signGist:{type:Object,default:function(){}},budgetGist:{type:Object,default:function(){}},contractAttr:{type:Object,default:function(){}},contractId:{type:Number,default:null}},data:function(){return{isAdd:!1,tabName:"name1",sumMoney:null,constructionModel:!1,businessModel:!1,editIndex:-1,editForm:{engineInfo:"",structure:"",scale:"",sumMoney:""},constructionList:[],form:{contractId:null,contractType:1,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:"",engineName:"",engineAddr:"",jobScope:"",jobWay:""},businessCon:{engineInfo:"",structure:"",scale:"",sumMoney:""},businessConRules:{engineInfo:[{required:!0,message:"请填写工程内容",trigger:"blur"}],structure:[{required:!0,message:"请填写结构",trigger:"blur"}],scale:[{required:!0,message:"请填写规模",trigger:"blur"}],sumMoney:[{required:!0,message:"请填写工程造价",trigger:"blur"}]},formType:{engineName:[{required:!0,message:"请填写工程名称",trigger:"blur"}],engineAddr:[{required:!0,message:"请填写工程地点",trigger:"blur"}],jobScope:[{required:!0,message:"请填写承包范围",trigger:"blur"}],jobWay:[{required:!0,message:"请填写承包方式",trigger:"blur"}],contractName:[{required:!0,message:"请填写合同名称",trigger:"blur"}],budgetGist:[{type:"number",required:!0,message:"请选择预算依据",trigger:"change"}],signGist:[{type:"number",required:!0,message:"请填写签订依据",trigger:"change"}],contractAttr:[{type:"number",required:!0,message:"请填写合同属性",trigger:"change"}],signDate:[{type:"date",required:!0,message:"请选择签订日期",trigger:"change"}],executeTime:[{type:"date",required:!0,message:"请选择执行时间",trigger:"change"}],yifangName:[{required:!0,message:"请填写乙方名称",trigger:"blur"}],yifangAddr:[{required:!0,message:"请填写乙方地址",trigger:"blur"}],yifangPhone:[{required:!0,message:"请填写联系电话",trigger:"blur"}],legalPersion:[{required:!0,message:"请填写法人代表",trigger:"blur"}],certigier:[{required:!0,message:"请填写授权人",trigger:"blur"}],depositBank:[{required:!0,message:"请填写开户银行",trigger:"blur"}],depositBankNum:[{required:!0,message:"请填写账号",trigger:"blur"}],dutyParagraph:[{required:!0,message:"请填写税号",trigger:"blur"}]}}},computed:{entrustColumns:function(){return[{type:"index",title:"序号",width:60,align:"center",fixed:"left"},{title:"工程内容",slot:"engineInfo"},{title:"结构",slot:"structure"},{title:"规模",slot:"scale"},{title:"工程造价",slot:"sumMoney"},{align:"center",title:"操作",slot:"action",width:"130"}]}},mounted:function(){this.clearFormCon()},methods:{getNewForm:function(){var e=n()({},this.form);return e.signDate=new Date(e.signDate).getTime(),e.executeTime=new Date(e.executeTime).getTime(),e.fileIds=this.$refs.uploadFile.getFileIds(),e},addContructInfo:function(){var e=this;e.$refs.form.validate(function(t){if(t)if(e.form.contractId)e.clearBusinessCon(),e.businessModel=!0;else{var a=e.getNewForm();e.$Spin.show(),e.commonUtil.ajaxPostUtil("/contract/addContract",a,function(t){e.$Spin.hide(),1===t.code?(e.isAdd=!0,e.form.contractId=t.data,e.clearBusinessCon(),e.businessModel=!0):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)}else e.$Message.error("请先填写建设工程施工合同的基本信息！")})},clearBusinessCon:function(){this.businessCon={engineInfo:"",structure:"",scale:"",sumMoney:""},this.$refs.businessCon.resetFields()},handleEntrustSave:function(){var e=this;e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","修改数据中")])}}),e.commonUtil.ajaxPutUtil("/engineDetail/updateEngineDetail",e.editForm,function(t){e.$Spin.hide(),1===t.code?(e.$Message.success(t.msg),e.refreshList()):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)},handleConstructionDelete:function(e){var t=this,a=this;a.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),a.commonUtil.ajaxDeleteUtil("/engineDetail/deleteEngineDetail/"+e,function(e){a.$Spin.hide(),1===e.code?(a.$Message.success(e.msg),a.refreshList()):a.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},a)}})},handleConstructionEdit:function(e,t){this.editIndex=t,this.editForm=n()({},e)},handleInlineCancel:function(){this.businessModel=!1,this.$refs.businessCon.resetFields()},handleInlineConfirm:function(){var e=this;e.$refs.businessCon.validate(function(t){t?(e.$Spin.show(),e.businessCon.contractId=e.form.contractId,e.commonUtil.ajaxPostUtil("/engineDetail/addEngineDetail",e.businessCon,function(t){e.$Spin.hide(),1===t.code?(e.$Message.success(t.msg),e.$refs.businessCon.resetFields(),e.businessModel=!1,e.refreshList()):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)):e.$Message.error("请填写好信息")})},formatData:function(e){return this.$moment(e).format("YYYY-MM-DD")},refreshList:function(e){var t=this;t.editIndex=-1,t.$Spin.show(),t.commonUtil.ajaxGetUtil("/contract/searchContractInfo/"+t.form.contractId,{},function(a){if(t.$Spin.hide(),1===a.code){var r=a.data,n=r.engineDeatilListColletcion;t.constructionList=n.list,t.sumMoney=n.sumMoney,e&&e(r)}else t.$Message.error(a.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)},showModal:function(e){var t=this;t.clearFormCon(),e&&(t.form.contractId=t.contractId,t.form.contractType=e,t.contractId&&t.refreshList(function(e){e.executeTime=t.formatData(e.executeTime),e.signDate=t.formatData(e.signDate),t.form=e,t.$nextTick(function(){t.$refs.uploadFile.getFileItems()})})),t.constructionModel=!0},handleConfirm:function(e){var t=this;t.$refs[e].validate(function(e){if(e){var a=t.isCreate,r=a?"/contract/addContract":"/contract/updateContract",n=t.getNewForm();t.isAdd?(t.constructionModel=!1,t.$emit("refreshList")):(t.$Spin.show(),t.commonUtil.ajaxCommonUtil(a,r,n,function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.constructionModel=!1,t.$emit("refreshList")):t.$Message.error(e.msg)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t))}else t.$Message.error("请填写好信息")})},clearFormCon:function(){this.form={contractId:null,contractType:1,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:""},this.businessCon={engineInfo:"",structure:"",scale:"",sumMoney:""},this.sumMoney=null,this.isAdd=!1,this.tabName="name1",this.constructionList=[],this.$refs.form.resetFields(),this.$refs.businessCon.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.constructionModel,callback:function(t){e.constructionModel=t},expression:"constructionModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("建设工程施工合同")]):a("span",[e._v("请添加建设工程施工合同")])]),e._v(" "),a("Form",{ref:"form",attrs:{model:e.form,rules:e.formType,"label-width":80}},[a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同名称",prop:"contractName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写合同名称"},model:{value:e.form.contractName,callback:function(t){e.$set(e.form,"contractName","string"==typeof t?t.trim():t)},expression:"form.contractName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"预算依据",prop:"budgetGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:!0,filterable:"",placeholder:"请选择预算依据"},model:{value:e.form.budgetGist,callback:function(t){e.$set(e.form,"budgetGist",t)},expression:"form.budgetGist"}},e._l(e.budgetGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订依据",prop:"signGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请填写签订依据"},model:{value:e.form.signGist,callback:function(t){e.$set(e.form,"signGist",t)},expression:"form.signGist"}},e._l(e.signGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同属性",prop:"contractAttr"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请填写合同属性"},model:{value:e.form.contractAttr,callback:function(t){e.$set(e.form,"contractAttr",t)},expression:"form.contractAttr"}},e._l(e.contractAttr,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订日期",prop:"signDate"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择签订日期",transfer:"",clearable:""},model:{value:e.form.signDate,callback:function(t){e.$set(e.form,"signDate",t)},expression:"form.signDate"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"执行时间",prop:"executeTime"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择执行时间",transfer:"",clearable:""},model:{value:e.form.executeTime,callback:function(t){e.$set(e.form,"executeTime",t)},expression:"form.executeTime"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工程名称",prop:"engineName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写工程名称"},model:{value:e.form.engineName,callback:function(t){e.$set(e.form,"engineName","string"==typeof t?t.trim():t)},expression:"form.engineName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工程地点",prop:"engineAddr"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写工程地点"},model:{value:e.form.engineAddr,callback:function(t){e.$set(e.form,"engineAddr","string"==typeof t?t.trim():t)},expression:"form.engineAddr"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"承包范围",prop:"jobScope"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写承包范围"},model:{value:e.form.jobScope,callback:function(t){e.$set(e.form,"jobScope","string"==typeof t?t.trim():t)},expression:"form.jobScope"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"承包方式",prop:"jobWay"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写承包方式"},model:{value:e.form.jobWay,callback:function(t){e.$set(e.form,"jobWay","string"==typeof t?t.trim():t)},expression:"form.jobWay"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"工程内容",name:"name2"}},[a("Content",{staticClass:"content",style:{padding:"14px 24px",background:"#fff"}},[e.isDisabled?e._e():a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:function(t){return e.addContructInfo()}}},[e._v("\n              添加\n            ")]),e._v(" "),a("Table",{staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{"highlight-row":"",columns:e.entrustColumns,data:e.constructionList},scopedSlots:e._u([{key:"engineInfo",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.engineInfo,callback:function(t){e.$set(e.editForm,"engineInfo","string"==typeof t?t.trim():t)},expression:"editForm.engineInfo"}}):a("span",[e._v(e._s(r.engineInfo))])]}},{key:"structure",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.structure,callback:function(t){e.$set(e.editForm,"structure","string"==typeof t?t.trim():t)},expression:"editForm.structure"}}):a("span",[e._v(e._s(r.structure))])]}},{key:"scale",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.scale,callback:function(t){e.$set(e.editForm,"scale","string"==typeof t?t.trim():t)},expression:"editForm.scale"}}):a("span",[e._v(e._s(r.scale))])]}},{key:"sumMoney",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.sumMoney,callback:function(t){e.$set(e.editForm,"sumMoney","string"==typeof t?t.trim():t)},expression:"editForm.sumMoney"}}):a("span",[e._v(e._s(r.sumMoney))])]}},{key:"action",fn:function(t){var r=t.row,n=t.index;return e.isDisabled?void 0:[e.editIndex===n?a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustSave()}}},[e._v("\n                    保存\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleConstructionDelete(r.id)}}},[e._v("\n                    删除\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){e.editIndex=-1}}},[e._v("\n                    取消\n                  ")])],1):a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleConstructionEdit(r,n)}}},[e._v("\n                    操作\n                  ")])],1)]}}],null,!0)}),e._v(" "),a("bottomTotal",{attrs:{name:"工程总造价",sum:e.sumMoney}})],1)],1),e._v(" "),a("TabPane",{attrs:{label:"乙方信息",name:"name3"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方名称",prop:"yifangName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方名称"},model:{value:e.form.yifangName,callback:function(t){e.$set(e.form,"yifangName","string"==typeof t?t.trim():t)},expression:"form.yifangName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方地址",prop:"yifangAddr"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方地址"},model:{value:e.form.yifangAddr,callback:function(t){e.$set(e.form,"yifangAddr","string"==typeof t?t.trim():t)},expression:"form.yifangAddr"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"yifangPhone"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写联系电话"},model:{value:e.form.yifangPhone,callback:function(t){e.$set(e.form,"yifangPhone","string"==typeof t?t.trim():t)},expression:"form.yifangPhone"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"法人代表",prop:"legalPersion"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写法人代表"},model:{value:e.form.legalPersion,callback:function(t){e.$set(e.form,"legalPersion","string"==typeof t?t.trim():t)},expression:"form.legalPersion"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"授权人",prop:"certigier"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写授权人"},model:{value:e.form.certigier,callback:function(t){e.$set(e.form,"certigier","string"==typeof t?t.trim():t)},expression:"form.certigier"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开户银行",prop:"depositBank"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写开户银行"},model:{value:e.form.depositBank,callback:function(t){e.$set(e.form,"depositBank","string"==typeof t?t.trim():t)},expression:"form.depositBank"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"账号",prop:"depositBankNum"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写账号"},model:{value:e.form.depositBankNum,callback:function(t){e.$set(e.form,"depositBankNum","string"==typeof t?t.trim():t)},expression:"form.depositBankNum"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"税号",prop:"dutyParagraph"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写税号"},model:{value:e.form.dutyParagraph,callback:function(t){e.$set(e.form,"dutyParagraph","string"==typeof t?t.trim():t)},expression:"form.dutyParagraph"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name4"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,form:{fileids:e.form.contractFileIds}}})],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){e.constructionModel=!1}}},[e._v("\n        取消\n      ")])],1)],1),e._v(" "),a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.businessModel,callback:function(t){e.businessModel=t},expression:"businessModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e._v("请添加工程内容")]),e._v(" "),a("Form",{ref:"businessCon",attrs:{model:e.businessCon,rules:e.businessConRules,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工程内容",prop:"engineInfo"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写工程内容"},model:{value:e.businessCon.engineInfo,callback:function(t){e.$set(e.businessCon,"engineInfo","string"==typeof t?t.trim():t)},expression:"businessCon.engineInfo"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"结构",prop:"structure"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写结构"},model:{value:e.businessCon.structure,callback:function(t){e.$set(e.businessCon,"structure","string"==typeof t?t.trim():t)},expression:"businessCon.structure"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"规模",prop:"scale"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写规模"},model:{value:e.businessCon.scale,callback:function(t){e.$set(e.businessCon,"scale","string"==typeof t?t.trim():t)},expression:"businessCon.scale"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工程造价",prop:"sumMoney"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写工程造价"},model:{value:e.businessCon.sumMoney,callback:function(t){e.$set(e.businessCon,"sumMoney","string"==typeof t?t.trim():t)},expression:"businessCon.sumMoney"}})],1)],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left",height:"30px"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:e.handleInlineCancel}},[e._v("\n        取消\n      ")]),e._v(" "),a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleInlineConfirm}},[e._v("\n        确认\n      ")])],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(o,l,!1,null,null,null);t.a=d.exports},VEQi:function(e,t){},VPpl:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i={name:"Bidding",components:{mulUploadFile:a("LC7k").a},props:{isDisabled:{type:Boolean,default:!1},isCreate:{type:Boolean,default:!1},organizationalForm:{type:Object,default:function(){}},billType:{type:Object,default:function(){}}},data:function(){return{uploadList:{1:"招标公告",2:"招标文件资料",3:"评标报告",4:"中标及未中标通知书",5:"中标文件",6:"代理机构营业执照"},isPop:!1,form:{id:null,bidding_unit:"",person_charge:"",code:"",phone:"",bidding_name:"",organizational_form:"",type:"",start_bidding_time:"",proxy_org:"",winning_bid_org:"",winning_bid_money:null,remark:""},ruleValidateType:{bidding_unit:[{required:!0,message:"请填写招投标单位",trigger:"blur"}],person_charge:[{required:!0,message:"请填写负责人",trigger:"blur"}],phone:[{required:!0,message:"请填写联系电话",trigger:"blur"}],bidding_name:[{required:!0,message:"请填写标段名称",trigger:"blur"}],code:[{required:!0,message:"请填写编号",trigger:"blur"}],organizational_form:[{type:"number",required:!0,message:"请选择组织形式",trigger:"change"}],bidding_type:[{type:"number",required:!0,message:"请选择招标类型",trigger:"change"}],start_bidding_time:[{type:"date",required:!0,message:"请填写开标时间",trigger:"blur"}],proxy_org:[{required:!0,message:"请填写代理机构",trigger:"blur"}],winning_bid_org:[{required:!0,message:"请填写中标单位",trigger:"blur"}],winning_bid_money:[{type:"number",required:!0,message:"请填写中标金额",trigger:"blur"}]}}},methods:{handleCancel:function(e){this.$refs[e].resetFields(),this.isPop=!1},handleConfirm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(e){var r=a.isCreate,i=r?"/bidding/addBidding":"/bidding/updateBidding",s=n()({},a.form);s.start_bidding_time=new Date(s.start_bidding_time).getTime(),s.relationFileIds=t.$refs.uploadFile.getFileIds(),a.$Spin.show(),a.commonUtil.ajaxCommonUtil(r,i,s,function(e){a.$Spin.hide(),1===e.code?(a.isPop=!1,a.$Message.success(e.msg),a.$emit("refreshList")):a.$Message.error(e.msg)},function(){a.$Message.error("网络连接错误"),a.$Spin.hide()},a)}else a.$Message.error("请填写好信息")})},showModal:function(e){var t=this;t.clearForm(),e?(t.$Spin.show(),t.commonUtil.ajaxGetUtil("/bidding/searchBiddingDetails/"+e,{},function(e){if(t.$Spin.hide(),1===e.code){var a=e.data;a.start_bidding_time=new Date(a.start_bidding_time),t.form=a,t.$nextTick(function(){t.$refs.uploadFile.getFileItems(a.relationFileids),t.isPop=!0})}else t.$Message.error(e.msg)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)):t.isPop=!0},clearForm:function(){this.form={id:null,bidding_unit:"",person_charge:"",phone:"",code:"",bidding_name:"",organizational_form:"",type:"",start_bidding_time:"",proxy_org:"",winning_bid_org:"",winning_bid_money:null,remark:""},this.$refs.form.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bidding"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.isPop,callback:function(t){e.isPop=t},expression:"isPop"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("招投标信息")]):a("span",[e._v("请添加招投标信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1,value:"name1"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Form",{ref:"form",attrs:{model:e.form,rules:e.ruleValidateType,"label-width":85}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"招投标单位",prop:"bidding_unit"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写招投标单位"},model:{value:e.form.bidding_unit,callback:function(t){e.$set(e.form,"bidding_unit","string"==typeof t?t.trim():t)},expression:"form.bidding_unit"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"组织形式",prop:"organizational_form"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择组织形式"},model:{value:e.form.organizational_form,callback:function(t){e.$set(e.form,"organizational_form",t)},expression:"form.organizational_form"}},e._l(e.organizationalForm,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"负责人",prop:"person_charge"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写负责人"},model:{value:e.form.person_charge,callback:function(t){e.$set(e.form,"person_charge","string"==typeof t?t.trim():t)},expression:"form.person_charge"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"phone"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"==typeof t?t.trim():t)},expression:"form.phone"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"编号",prop:"code"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写编号"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"==typeof t?t.trim():t)},expression:"form.code"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"标段名称",prop:"bidding_name"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写标段名称"},model:{value:e.form.bidding_name,callback:function(t){e.$set(e.form,"bidding_name","string"==typeof t?t.trim():t)},expression:"form.bidding_name"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"招标类型",prop:"bidding_type"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择招标类型"},model:{value:e.form.bidding_type,callback:function(t){e.$set(e.form,"bidding_type",t)},expression:"form.bidding_type"}},e._l(e.billType,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开标时间",prop:"start_bidding_time"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请填写开标时间",transfer:"",clearable:""},model:{value:e.form.start_bidding_time,callback:function(t){e.$set(e.form,"start_bidding_time",t)},expression:"form.start_bidding_time"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"代理机构",prop:"proxy_org"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写代理机构"},model:{value:e.form.proxy_org,callback:function(t){e.$set(e.form,"proxy_org","string"==typeof t?t.trim():t)},expression:"form.proxy_org"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"中标单位",prop:"winning_bid_org"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写中标单位"},model:{value:e.form.winning_bid_org,callback:function(t){e.$set(e.form,"winning_bid_org","string"==typeof t?t.trim():t)},expression:"form.winning_bid_org"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"中标金额",prop:"winning_bid_money"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写中标金额",number:""},model:{value:e.form.winning_bid_money,callback:function(t){e.$set(e.form,"winning_bid_money","string"==typeof t?t.trim():t)},expression:"form.winning_bid_money"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{disabled:e.isDisabled,type:"textarea",autosize:{minRows:1,maxRows:5},placeholder:"请填写备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"==typeof t?t.trim():t)},expression:"form.remark"}})],1)],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name7"}},[a("mulUploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,"upload-list":e.uploadList}})],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){return e.handleCancel("form")}}},[e._v("\n        取消\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")])],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,s,!1,null,null,null);t.a=o.exports},a5i8:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i=a("J8Iu"),s=a("pHVV"),o={name:"SetUpModel",components:{uploadFile:i.a,bottomTotal:s.a},props:{isDisabled:{type:Boolean,value:!1},isCreate:{type:Boolean,value:!1},signGist:{type:Object,default:function(){}},budgetGist:{type:Object,default:function(){}},contractAttr:{type:Object,default:function(){}},contractId:{type:Number,default:null}},data:function(){return{isAdd:!1,tabName:"name1",sumMoney:null,setUpModel:!1,isbtnShow:!0,businessModel:!1,editIndex:-1,editForm:{name:"",model:"",parameter:"",brand:"",producers:"",producingArea:"",number:"",unit:"",unitPrice:"",sumPrice:""},entrustList:[],form:{contractId:null,contractType:2,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:""},businessCon:{name:"",model:"",parameter:"",brand:"",producers:"",producingArea:"",number:"",unit:"",unitPrice:"",sumPrice:""},ruleBusinessCon:{name:[{required:!0,message:"请填写商品名称",trigger:"blur"}],model:[{required:!0,message:"请填写型号",trigger:"blur"}],parameter:[{required:!0,message:"请填写参数",trigger:"blur"}],brand:[{required:!0,message:"请填写品牌",trigger:"blur"}],producers:[{required:!0,message:"请填写生产厂商",trigger:"blur"}],producingArea:[{required:!0,message:"请填写产地",trigger:"blur"}],number:[{required:!0,message:"请填写数量",trigger:"blur"}],unit:[{required:!0,message:"请填写单位",trigger:"blur"}],unitPrice:[{required:!0,message:"请填写单价",trigger:"blur"}],sumPrice:[{required:!0,message:"请填写总价",trigger:"blur"}]},formType:{contractName:[{required:!0,message:"请填写合同名称",trigger:"blur"}],budgetGist:[{type:"number",required:!0,message:"请选择预算依据",trigger:"change"}],signGist:[{type:"number",required:!0,message:"请填写签订依据",trigger:"change"}],contractAttr:[{type:"number",required:!0,message:"请填写合同属性",trigger:"change"}],signDate:[{type:"date",required:!0,message:"请选择签订日期",trigger:"change"}],executeTime:[{type:"date",required:!0,message:"请选择执行时间",trigger:"change"}],yifangName:[{required:!0,message:"请填写乙方名称",trigger:"blur"}],yifangAddr:[{required:!0,message:"请填写乙方地址",trigger:"blur"}],yifangPhone:[{required:!0,message:"请填写联系电话",trigger:"blur"}],legalPersion:[{required:!0,message:"请填写法人代表",trigger:"blur"}],certigier:[{required:!0,message:"请填写授权人",trigger:"blur"}],depositBank:[{required:!0,message:"请填写开户银行",trigger:"blur"}],depositBankNum:[{required:!0,message:"请填写账号",trigger:"blur"}],dutyParagraph:[{required:!0,message:"请填写税号",trigger:"blur"}]}}},computed:{entrustColumns:function(){return[{type:"index",title:"序号",width:60,align:"center",fixed:"left"},{title:"商品名称",slot:"name"},{title:"型号",slot:"model"},{title:"参数",slot:"parameter"},{title:"品牌",slot:"brand"},{title:"生产厂商",slot:"producers"},{title:"产地",slot:"producingArea"},{title:"数量",slot:"number"},{title:"单位",slot:"unit"},{title:"单价",slot:"unitPrice"},{title:"总价",slot:"sumPrice"},{align:"center",title:"操作",slot:"action",width:"130"}]}},methods:{getNewForm:function(){var e=n()({},this.form);return e.signDate=new Date(e.signDate).getTime(),e.executeTime=new Date(e.executeTime).getTime(),e.fileIds=this.$refs.uploadFile.getFileIds(),e},entrustListAdd:function(){var e=this;e.$refs.form.validate(function(t){if(t)if(e.form.contractId)e.businessModel=!0,e.clearBusinessCon();else{var a=e.getNewForm();e.$Spin.show(),e.commonUtil.ajaxPostUtil("/contract/addContract",a,function(t){e.$Spin.hide(),1===t.code?(e.isAdd=!0,e.form.contractId=t.data,e.clearBusinessCon(),e.businessModel=!0):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)}else e.$Message.error("请先填写设备购置合同的基本信息！")})},clearBusinessCon:function(){this.businessCon={name:"",model:"",parameter:"",brand:"",producers:"",producingArea:"",number:"",unit:"",unitPrice:"",sumPrice:""},this.$refs.businessCon.resetFields()},handleEntrustSave:function(){var e=this;e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","修改数据中")])}}),e.commonUtil.ajaxPutUtil("/contract/updateProduct",e.editForm,function(t){e.$Spin.hide(),1===t.code?(e.$Message.success(t.msg),e.refreshList()):e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)},formatData:function(e){return this.$moment(e).format("YYYY-MM-DD")},refreshList:function(e){var t=this;t.editIndex=-1,t.$Spin.show(),t.commonUtil.ajaxGetUtil("/contract/searchContractInfo/"+t.form.contractId,{},function(a){if(t.$Spin.hide(),1===a.code){var r=a.data,n=r.productListCollection;t.entrustList=n.productCollections,t.sumMoney=n.sumMoney,e&&e(r)}else t.$Message.error(a.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)},handleEntrustDelete:function(e){var t=this,a=this;a.$Modal.confirm({title:"删除",content:"确认删除此数据吗？",onOk:function(){a.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),a.commonUtil.ajaxDeleteUtil("/contract/deleteProduct/"+e,function(e){a.$Spin.hide(),1===e.code?(a.$Message.success(e.msg),a.refreshList()):a.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},a)}})},handleEntrustEdit:function(e,t){this.editIndex=t,this.editForm=n()({},e)},handleInlineCancel:function(){this.businessModel=!1},handleInlineConfirm:function(e){var t=this;t.$refs[e].validate(function(e){e?(t.$Spin.show(),t.businessCon.contractId=t.form.contractId,t.commonUtil.ajaxPostUtil("/contract/addProduct",t.businessCon,function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.$refs.businessCon.resetFields(),t.businessModel=!1,t.refreshList()):t.$Message.error(e.msg)},function(e){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)):t.$Message.error("请填写好信息")})},showModal:function(e){var t=this;t.clearFormCon(),e&&(t.form.contractId=t.contractId,t.form.contractType=e,t.contractId&&t.refreshList(function(e){e.executeTime=t.formatData(e.executeTime),e.signDate=t.formatData(e.signDate),t.form=e,t.$nextTick(function(){t.$refs.uploadFile.getFileItems()})})),t.setUpModel=!0},handleConfirm:function(e){var t=this;t.$refs[e].validate(function(e){if(e){var a=t.isCreate,r=a?"/contract/addContract":"/contract/updateContract",n=t.getNewForm();t.isAdd?(t.setUpModel=!1,t.$emit("refreshList")):t.commonUtil.ajaxCommonUtil(a,r,n,function(e){t.$Spin.hide(),1===e.code?(t.$Message.success(e.msg),t.setUpModel=!1,t.$emit("refreshList")):t.$Message.error(e.msg)},function(){t.$Message.error("网络连接错误"),t.$Spin.hide()},t)}else t.$Message.error("请填写好信息")})},clearFormCon:function(){this.form={contractId:null,contractType:2,contractName:"",budgetGist:"",signGist:"",contractAttr:"",signDate:"",executeTime:"",yifangName:"",yifangAddr:"",yifangPhone:"",legalPersion:"",certigier:"",depositBank:"",depositBankNum:"",dutyParagraph:""},this.businessCon={name:"",model:"",parameter:"",brand:"",producers:"",producingArea:"",number:"",unit:"",unitPrice:"",sumPrice:""},this.isAdd=!1,this.entrustList=[],this.sumMoney=null,this.tabName="name1",this.$refs.form.resetFields(),this.$refs.businessCon.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.setUpModel,callback:function(t){e.setUpModel=t},expression:"setUpModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("设备购置合同")]):a("span",[e._v("请添加设备购置合同")])]),e._v(" "),a("Form",{ref:"form",attrs:{model:e.form,rules:e.formType,"label-width":80}},[a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同名称",prop:"contractName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写合同名称"},model:{value:e.form.contractName,callback:function(t){e.$set(e.form,"contractName","string"==typeof t?t.trim():t)},expression:"form.contractName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"预算依据",prop:"budgetGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择预算依据"},model:{value:e.form.budgetGist,callback:function(t){e.$set(e.form,"budgetGist",t)},expression:"form.budgetGist"}},e._l(e.budgetGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订依据",prop:"signGist"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请填写签订依据"},model:{value:e.form.signGist,callback:function(t){e.$set(e.form,"signGist",t)},expression:"form.signGist"}},e._l(e.signGist,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同属性",prop:"contractAttr"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:!0,filterable:"",placeholder:"请填写合同属性"},model:{value:e.form.contractAttr,callback:function(t){e.$set(e.form,"contractAttr",t)},expression:"form.contractAttr"}},e._l(e.contractAttr,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"签订日期",prop:"signDate"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择签订日期",transfer:!0},model:{value:e.form.signDate,callback:function(t){e.$set(e.form,"signDate",t)},expression:"form.signDate"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"执行时间",prop:"executeTime"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请选择执行时间",transfer:!0},model:{value:e.form.executeTime,callback:function(t){e.$set(e.form,"executeTime",t)},expression:"form.executeTime"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"商品内容",name:"name2"}},[a("Content",{staticClass:"content",style:{padding:"14px 24px",background:"#fff"}},[e.isDisabled?e._e():a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.entrustListAdd}},[e._v("\n              添加\n            ")]),e._v(" "),a("Table",{ref:"entrustList",staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{"highlight-row":"",columns:e.entrustColumns,data:e.entrustList},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}}):a("span",[e._v(e._s(r.name))])]}},{key:"model",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.model,callback:function(t){e.$set(e.editForm,"model","string"==typeof t?t.trim():t)},expression:"editForm.model"}}):a("span",[e._v(e._s(r.model))])]}},{key:"parameter",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.parameter,callback:function(t){e.$set(e.editForm,"parameter","string"==typeof t?t.trim():t)},expression:"editForm.parameter"}}):a("span",[e._v(e._s(r.parameter))])]}},{key:"brand",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.brand,callback:function(t){e.$set(e.editForm,"brand","string"==typeof t?t.trim():t)},expression:"editForm.brand"}}):a("span",[e._v(e._s(r.brand))])]}},{key:"producers",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.producers,callback:function(t){e.$set(e.editForm,"producers","string"==typeof t?t.trim():t)},expression:"editForm.producers"}}):a("span",[e._v(e._s(r.producers))])]}},{key:"producingArea",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.producingArea,callback:function(t){e.$set(e.editForm,"producingArea","string"==typeof t?t.trim():t)},expression:"editForm.producingArea"}}):a("span",[e._v(e._s(r.producingArea))])]}},{key:"number",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.number,callback:function(t){e.$set(e.editForm,"number","string"==typeof t?t.trim():t)},expression:"editForm.number"}}):a("span",[e._v(e._s(r.number))])]}},{key:"unit",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.unit,callback:function(t){e.$set(e.editForm,"unit","string"==typeof t?t.trim():t)},expression:"editForm.unit"}}):a("span",[e._v(e._s(r.unit))])]}},{key:"unitPrice",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.unitPrice,callback:function(t){e.$set(e.editForm,"unitPrice","string"==typeof t?t.trim():t)},expression:"editForm.unitPrice"}}):a("span",[e._v(e._s(r.unitPrice))])]}},{key:"sumPrice",fn:function(t){var r=t.row,n=t.index;return[e.editIndex===n?a("Input",{attrs:{type:"text"},model:{value:e.editForm.sumPrice,callback:function(t){e.$set(e.editForm,"sumPrice","string"==typeof t?t.trim():t)},expression:"editForm.sumPrice"}}):a("span",[e._v(e._s(r.sumPrice))])]}},{key:"action",fn:function(t){var r=t.row,n=t.index;return e.isbtnShow?[e.editIndex===n?a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustSave()}}},[e._v("\n                    保存\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustDelete(r.id)}}},[e._v("\n                    删除\n                  ")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){e.editIndex=-1}}},[e._v("\n                    取消\n                  ")])],1):a("div",[a("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleEntrustEdit(r,n)}}},[e._v("\n                    操作\n                  ")])],1)]:void 0}}],null,!0)}),e._v(" "),a("bottomTotal",{attrs:{name:"总价",sum:e.sumMoney}})],1)],1),e._v(" "),a("TabPane",{attrs:{label:"乙方信息",name:"name3"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方名称",prop:"yifangName"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方名称"},model:{value:e.form.yifangName,callback:function(t){e.$set(e.form,"yifangName","string"==typeof t?t.trim():t)},expression:"form.yifangName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"乙方地址",prop:"yifangAddr"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写乙方地址"},model:{value:e.form.yifangAddr,callback:function(t){e.$set(e.form,"yifangAddr","string"==typeof t?t.trim():t)},expression:"form.yifangAddr"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"yifangPhone"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写联系电话"},model:{value:e.form.yifangPhone,callback:function(t){e.$set(e.form,"yifangPhone","string"==typeof t?t.trim():t)},expression:"form.yifangPhone"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"法人代表",prop:"legalPersion"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写法人代表"},model:{value:e.form.legalPersion,callback:function(t){e.$set(e.form,"legalPersion","string"==typeof t?t.trim():t)},expression:"form.legalPersion"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"授权人",prop:"certigier"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写授权人"},model:{value:e.form.certigier,callback:function(t){e.$set(e.form,"certigier","string"==typeof t?t.trim():t)},expression:"form.certigier"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开户银行",prop:"depositBank"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写开户银行"},model:{value:e.form.depositBank,callback:function(t){e.$set(e.form,"depositBank","string"==typeof t?t.trim():t)},expression:"form.depositBank"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"账号",prop:"depositBankNum"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写账号"},model:{value:e.form.depositBankNum,callback:function(t){e.$set(e.form,"depositBankNum","string"==typeof t?t.trim():t)},expression:"form.depositBankNum"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"税号",prop:"dutyParagraph"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写税号"},model:{value:e.form.dutyParagraph,callback:function(t){e.$set(e.form,"dutyParagraph","string"==typeof t?t.trim():t)},expression:"form.dutyParagraph"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name4"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,form:{fileids:e.form.contractFileIds}}})],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){e.setUpModel=!1}}},[e._v("\n        取消\n      ")])],1)],1),e._v(" "),a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.businessModel,callback:function(t){e.businessModel=t},expression:"businessModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e._v("请添加商品内容")]),e._v(" "),a("Form",{ref:"businessCon",attrs:{model:e.businessCon,rules:e.ruleBusinessCon,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"商品名称",prop:"name"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写商品名称"},model:{value:e.businessCon.name,callback:function(t){e.$set(e.businessCon,"name","string"==typeof t?t.trim():t)},expression:"businessCon.name"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"型号",prop:"model"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写型号"},model:{value:e.businessCon.model,callback:function(t){e.$set(e.businessCon,"model","string"==typeof t?t.trim():t)},expression:"businessCon.model"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"参数",prop:"parameter"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写参数"},model:{value:e.businessCon.parameter,callback:function(t){e.$set(e.businessCon,"parameter","string"==typeof t?t.trim():t)},expression:"businessCon.parameter"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"品牌",prop:"brand"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写品牌"},model:{value:e.businessCon.brand,callback:function(t){e.$set(e.businessCon,"brand","string"==typeof t?t.trim():t)},expression:"businessCon.brand"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"生产厂商",prop:"producers"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写生产厂商"},model:{value:e.businessCon.producers,callback:function(t){e.$set(e.businessCon,"producers","string"==typeof t?t.trim():t)},expression:"businessCon.producers"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"产地",prop:"producingArea"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写产地"},model:{value:e.businessCon.producingArea,callback:function(t){e.$set(e.businessCon,"producingArea","string"==typeof t?t.trim():t)},expression:"businessCon.producingArea"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"数量",prop:"number"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写数量"},model:{value:e.businessCon.number,callback:function(t){e.$set(e.businessCon,"number","string"==typeof t?t.trim():t)},expression:"businessCon.number"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"单位",prop:"unit"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写单位"},model:{value:e.businessCon.unit,callback:function(t){e.$set(e.businessCon,"unit","string"==typeof t?t.trim():t)},expression:"businessCon.unit"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"单价",prop:"unitPrice"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写单价"},model:{value:e.businessCon.unitPrice,callback:function(t){e.$set(e.businessCon,"unitPrice","string"==typeof t?t.trim():t)},expression:"businessCon.unitPrice"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"总价",prop:"sumPrice"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写总价"},model:{value:e.businessCon.sumPrice,callback:function(t){e.$set(e.businessCon,"sumPrice","string"==typeof t?t.trim():t)},expression:"businessCon.sumPrice"}})],1)],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left",height:"30px"},attrs:{slot:"footer"},slot:"footer"},[e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){return e.handleInlineCancel("businessCon")}}},[e._v("\n        取消\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleInlineConfirm("businessCon")}}},[e._v("\n        确认\n      ")])],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(o,l,!1,null,null,null);t.a=d.exports},bLuo:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i={name:"IncomeModel",components:{uploadFile:a("J8Iu").a},props:{isDisabled:{type:Boolean,value:!1},isCreate:{type:Boolean,default:!1},jieOrDai:{type:Object,default:function(){}},contractType:{type:Object,default:function(){}},keMuArray:{type:Object,default:function(){}}},data:function(){return{tabName:"name1",incomeModel:!1,form:{special_account_type:"",shouzhi_type:1,date:"",pingzhen:"",zhaiyao:"",duifang_kemu:"",jiefang_money:"",daifang_money:"",jie_or_dai:"",balance:"",remark:""},ruleValidateType:{special_account_type:[{type:"number",required:!0,message:"请选择类型",trigger:"change"}],date:[{type:"date",required:!0,message:"请填写日期",trigger:"blur"}],pingzhen:[{required:!0,message:"请填写凭证号",trigger:"blur"}],zhaiyao:[{required:!0,message:"请填写摘要",trigger:"blur"}],duifang_kemu:[{type:"number",required:!0,message:"请选择对方科目",trigger:"change"}],jiefang_money:[{type:"number",required:!0,message:"请填写借(收入)方金额",trigger:"blur"}],daifang_money:[{type:"number",required:!0,message:"请填写贷(收入)方金额",trigger:"blur"}],jie_or_dai:[{type:"number",required:!0,message:"请选择借或贷",trigger:"change"}],balance:[{type:"number",required:!0,message:"请填写余额",trigger:"blur"}]}}},methods:{handleConfirm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(e){var r=t.isCreate,i=n()({},t.form),s=r?"/specialAccount/addSpecialAccount":"/specialAccount/updateSpecialAccount";i.date=i.date?new Date(i.date).getTime():null,i.fileIds=t.$refs.uploadFile.getFileIds(),a.$Spin.show(),a.commonUtil.ajaxCommonUtil(r,s,i,function(e){a.$Spin.hide(),1===e.code?(a.incomeModel=!1,a.$Message.success(e.msg),a.$emit("refreshList")):a.$Message.error(e.msg)},function(){a.$Message.error("网络连接错误"),a.$Spin.hide()},a)}else a.$Message.error("请填写好信息")})},showModal:function(e){var t=this;this.clearForm(),e&&(this.form=e,this.$nextTick(function(){t.$refs.uploadFile.getFileItems()})),this.incomeModel=!0},clearForm:function(){this.form={special_account_type:"",shouzhi_type:1,date:"",pingzhen:"",zhaiyao:"",duifang_kemu:"",jiefang_money:"",daifang_money:"",jie_or_dai:"",balance:"",remark:""},this.tabName="name1",this.$refs.form.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.incomeModel,callback:function(t){e.incomeModel=t},expression:"incomeModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("收入信息")]):a("span",[e._v("请添加收入信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Form",{ref:"form",attrs:{model:e.form,rules:e.ruleValidateType,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"类型",prop:"special_account_type"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择类型"},model:{value:e.form.special_account_type,callback:function(t){e.$set(e.form,"special_account_type",t)},expression:"form.special_account_type"}},e._l(e.contractType,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"日期",prop:"date"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请填写日期",transfer:"",clearable:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"凭证号",prop:"pingzhen"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写凭证号"},model:{value:e.form.pingzhen,callback:function(t){e.$set(e.form,"pingzhen","string"==typeof t?t.trim():t)},expression:"form.pingzhen"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"借或贷",prop:"jie_or_dai"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择借或贷"},model:{value:e.form.jie_or_dai,callback:function(t){e.$set(e.form,"jie_or_dai",t)},expression:"form.jie_or_dai"}},e._l(e.jieOrDai,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"借(收入)方金额",prop:"jiefang_money"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写借(收入)方金额",number:""},model:{value:e.form.jiefang_money,callback:function(t){e.$set(e.form,"jiefang_money","string"==typeof t?t.trim():t)},expression:"form.jiefang_money"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"对方科目",prop:"duifang_kemu"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择对方科目"},model:{value:e.form.duifang_kemu,callback:function(t){e.$set(e.form,"duifang_kemu",t)},expression:"form.duifang_kemu"}},e._l(e.keMuArray,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"贷(收入)方金额",prop:"daifang_money"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写贷(收入)方金额",number:""},model:{value:e.form.daifang_money,callback:function(t){e.$set(e.form,"daifang_money","string"==typeof t?t.trim():t)},expression:"form.daifang_money"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"余额",prop:"balance"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写余额",number:""},model:{value:e.form.balance,callback:function(t){e.$set(e.form,"balance","string"==typeof t?t.trim():t)},expression:"form.balance"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"摘要",prop:"zhaiyao"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写摘要"},model:{value:e.form.zhaiyao,callback:function(t){e.$set(e.form,"zhaiyao","string"==typeof t?t.trim():t)},expression:"form.zhaiyao"}})],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{disabled:e.isDisabled,type:"textarea",autosize:{minRows:1,maxRows:5},placeholder:"请填写备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"==typeof t?t.trim():t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name7"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,form:{fileids:e.form.accountFileIds}}})],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){e.incomeModel=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")])],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,s,!1,null,null,null);t.a=o.exports},cnR4:function(e,t,a){"use strict";var r={name:"InvestSummary",components:{uploadFile:a("J8Iu").a},props:{searchData:{type:Object,default:function(){}}},data:function(){return{tabName:"name1",form:{projectName:"",implementSite:"",workContent:"",implementJindu:"",allFinancial:"",centralFinancial:"",cityFinancial:"",districtFinancial:"",elseFinancial:"",workTarget:"",expectBenefit:""},isPopUp:!1}},mounted:function(){},methods:{search:function(){var e=this;e.clearFormData(),e.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","加载中")])}}),e.commonUtil.ajaxPostUtil("/project/searchProject",e.searchData,function(t){if(e.$Spin.hide(),1===t.code){var a=t.data;1===a.length?(e.form=a[0],e.$nextTick(function(){e.$refs.uploadFile.getFileItems()}),e.isPopUp=!0):e.$Message.error("该数据可能已经被删除了")}else e.$Message.error(t.msg)},function(t){e.$Message.error("网络连接错误"),e.$Spin.hide()},e)},clearFormData:function(){this.form={projectName:"",implementSite:"",workContent:"",implementJindu:"",allFinancial:"",centralFinancial:"",cityFinancial:"",districtFinancial:"",elseFinancial:"",workTarget:"",expectBenefit:""},this.tabName="name1",this.$refs.form.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.isPopUp,callback:function(t){e.isPopUp=t},expression:"isPopUp"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("实施方案信息")])]),e._v(" "),a("Form",{ref:"form",attrs:{model:e.form,"label-width":80}},[a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"基本信息",name:"name1"}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"项目名称",prop:"projectName"}},[a("Input",{attrs:{disabled:""},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName","string"==typeof t?t.trim():t)},expression:"form.projectName"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"承担单位"}},[a("Input",{attrs:{disabled:""},model:{value:e.form.carryUnit,callback:function(t){e.$set(e.form,"carryUnit","string"==typeof t?t.trim():t)},expression:"form.carryUnit"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"资金类别"}},[a("Input",{attrs:{disabled:""},model:{value:e.form.capitalType,callback:function(t){e.$set(e.form,"capitalType","string"==typeof t?t.trim():t)},expression:"form.capitalType"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"主管单位"}},[a("Input",{attrs:{disabled:""},model:{value:e.form.manageUnit,callback:function(t){e.$set(e.form,"manageUnit","string"==typeof t?t.trim():t)},expression:"form.manageUnit"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"实施地点",prop:"implementSite"}},[a("Input",{attrs:{disabled:""},model:{value:e.form.implementSite,callback:function(t){e.$set(e.form,"implementSite","string"==typeof t?t.trim():t)},expression:"form.implementSite"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"工作内容"}},[a("Input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:1,maxRows:5}},model:{value:e.form.workContent,callback:function(t){e.$set(e.form,"workContent","string"==typeof t?t.trim():t)},expression:"form.workContent"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"实施进度"}},[a("Input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:1,maxRows:5}},model:{value:e.form.implementJindu,callback:function(t){e.$set(e.form,"implementJindu","string"==typeof t?t.trim():t)},expression:"form.implementJindu"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"资金构成",name:"name2"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"总投资"}},[a("Input",{attrs:{disabled:"",number:""},model:{value:e.form.allFinancial,callback:function(t){e.$set(e.form,"allFinancial","string"==typeof t?t.trim():t)},expression:"form.allFinancial"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("万元")])])],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}})],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"中央财政"}},[a("Input",{attrs:{disabled:"",number:""},model:{value:e.form.centralFinancial,callback:function(t){e.$set(e.form,"centralFinancial","string"==typeof t?t.trim():t)},expression:"form.centralFinancial"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("万元")])])],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}})],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"市级财政"}},[a("Input",{attrs:{disabled:"",number:""},model:{value:e.form.cityFinancial,callback:function(t){e.$set(e.form,"cityFinancial","string"==typeof t?t.trim():t)},expression:"form.cityFinancial"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("万元")])])],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}})],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"区级财政"}},[a("Input",{attrs:{disabled:"",number:""},model:{value:e.form.districtFinancial,callback:function(t){e.$set(e.form,"districtFinancial","string"==typeof t?t.trim():t)},expression:"form.districtFinancial"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("万元")])])],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}})],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"其他资金"}},[a("Input",{attrs:{disabled:"",number:""},model:{value:e.form.elseFinancial,callback:function(t){e.$set(e.form,"elseFinancial","string"==typeof t?t.trim():t)},expression:"form.elseFinancial"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("万元")])])],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"效益目标",name:"name3"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"工作目标"}},[a("Input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:1,maxRows:5}},model:{value:e.form.workTarget,callback:function(t){e.$set(e.form,"workTarget","string"==typeof t?t.trim():t)},expression:"form.workTarget"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"预期效益"}},[a("Input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:1,maxRows:5}},model:{value:e.form.expectBenefit,callback:function(t){e.$set(e.form,"expectBenefit","string"==typeof t?t.trim():t)},expression:"form.expectBenefit"}})],1)],1)],1),e._v(" "),a("TabPane",{staticClass:"uploadStyle",attrs:{label:"附件",name:"name4"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":"",form:{fileids:e.form.projectFileIds}}})],1)],1)],1)],1)],1)},staticRenderFns:[]},i=a("VU/8")(r,n,!1,null,null,null);t.a=i.exports},"f86/":function(e,t){},hmnq:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA1klEQVQ4T7XTwUmDQRCG4ScVmBasRC1AsAPx4MmLKSAYK7AAL3agYAOxA1vw4lmwgIRPJuGP7IbIjwMLs7Mz787OzkyMlEkj/hTPOMbX4PwF71gMY4aABK5whjuc47ucP/BU+i2O8Jb9BhDjQznMSr/GY9nukQuS0RQnuAp0A0hauTVyg09c4LJsSX1egNeCBLpoAQ4taxPQKmoLmFp1AdvDKuqPY0///YTs47ys1dP3ZpDgfFlWT/9fwOgnjCriTp/vaYj47Xxjui4D9BfJzCwPbZwueA21qlcREmfwXQAAAABJRU5ErkJggg=="},iOZI:function(e,t,a){"use strict";var r=a("woOf"),n=a.n(r),i={name:"PayModel",components:{uploadFile:a("J8Iu").a},props:{isDisabled:{type:Boolean,default:!1},isCreate:{type:Boolean,default:!1},jieOrDai:{type:Object,default:function(){}},contractList:{type:Array,default:function(){return[]}},yiFangList:{type:Array,default:function(){return[]}},contractType:{type:Object,default:function(){}},keMuArray:{type:Object,default:function(){}}},data:function(){return{tabName:"name1",payModel:!1,form:{special_account_type:"",shouzhi_type:2,date:"",pingzhen:"",zhaiyao:"",duifang_kemu:"",jiefang_money:"",daifang_money:"",jie_or_dai:"",balance:"",contract_id:"",wanglai_danwei:"",remark:""},ruleValidateType:{special_account_type:[{type:"number",required:!0,message:"请选择类型",trigger:"change"}],date:[{type:"date",required:!0,message:"请填写日期",trigger:"blur"}],pingzhen:[{required:!0,message:"请填写凭证号",trigger:"blur"}],zhaiyao:[{required:!0,message:"请填写摘要",trigger:"blur"}],duifang_kemu:[{type:"number",required:!0,message:"请选择对方科目",trigger:"change"}],jiefang_money:[{type:"number",required:!0,message:"请填写借(收入)方金额",trigger:"blur"}],daifang_money:[{type:"number",required:!0,message:"请填写贷(收入)方金额",trigger:"blur"}],jie_or_dai:[{type:"number",required:!0,message:"请选择借或贷",trigger:"change"}],balance:[{type:"number",required:!0,message:"请填写余额",trigger:"blur"}],contract_id:[{type:"number",required:!0,message:"请填写合同名称",trigger:"blur"}],wanglai_danwei:[{type:"number",required:!0,message:"请选择往来单位",trigger:"change"}]}}},methods:{handleConfirm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(e){var r=t.isCreate,i=n()({},t.form),s=r?"/specialAccount/addSpecialAccount":"/specialAccount/updateSpecialAccount";i.date=i.date?new Date(i.date).getTime():null,i.fileIds=t.$refs.uploadFile.getFileIds(),a.$Spin.show(),a.commonUtil.ajaxCommonUtil(r,s,i,function(e){a.$Spin.hide(),1===e.code?(a.payModel=!1,a.$Message.success(e.msg),a.$emit("refreshList")):a.$Message.error(e.msg)},function(){a.$Message.error("网络连接错误"),a.$Spin.hide()},a)}else a.$Message.error("请填写好信息")})},showModal:function(e){var t=this;this.clearForm(),e&&(this.form=e,this.$nextTick(function(){t.$refs.uploadFile.getFileItems()})),this.payModel=!0},clearForm:function(){this.form={special_account_type:"",shouzhi_type:2,date:"",pingzhen:"",zhaiyao:"",duifang_kemu:"",jiefang_money:"",daifang_money:"",jie_or_dai:"",balance:"",contract_id:"",wanglai_danwei:"",remark:""},this.tabName="name1",this.$refs.form.resetFields();var e=this.$refs.uploadFile;e&&e.clearFileItems()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"income"},[a("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:e.payModel,callback:function(t){e.payModel=t},expression:"payModel"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.isDisabled?a("span",[e._v("支出信息")]):a("span",[e._v("请添加支出信息")])]),e._v(" "),a("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("TabPane",{attrs:{label:"信息设置",name:"name1"}},[a("Form",{ref:"form",attrs:{model:e.form,rules:e.ruleValidateType,"label-width":80}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"类型",prop:"special_account_type"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择类型"},model:{value:e.form.special_account_type,callback:function(t){e.$set(e.form,"special_account_type",t)},expression:"form.special_account_type"}},e._l(e.contractType,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"日期",prop:"date"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{disabled:e.isDisabled,type:"date",placeholder:"请填写日期",transfer:"",clearable:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"凭证号",prop:"pingzhen"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写凭证号"},model:{value:e.form.pingzhen,callback:function(t){e.$set(e.form,"pingzhen","string"==typeof t?t.trim():t)},expression:"form.pingzhen"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"借或贷",prop:"jie_or_dai"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择借或贷"},model:{value:e.form.jie_or_dai,callback:function(t){e.$set(e.form,"jie_or_dai",t)},expression:"form.jie_or_dai"}},e._l(e.jieOrDai,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"借(收入)方金额",prop:"jiefang_money"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写借(收入)方金额",number:""},model:{value:e.form.jiefang_money,callback:function(t){e.$set(e.form,"jiefang_money","string"==typeof t?t.trim():t)},expression:"form.jiefang_money"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"对方科目",prop:"duifang_kemu"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择对方科目"},model:{value:e.form.duifang_kemu,callback:function(t){e.$set(e.form,"duifang_kemu",t)},expression:"form.duifang_kemu"}},e._l(e.keMuArray,function(t,r){return a("Option",{key:r,attrs:{value:parseInt(r)}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"贷(收入)方金额",prop:"daifang_money"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写贷(收入)方金额",number:""},model:{value:e.form.daifang_money,callback:function(t){e.$set(e.form,"daifang_money","string"==typeof t?t.trim():t)},expression:"form.daifang_money"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"余额",prop:"balance"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写余额",number:""},model:{value:e.form.balance,callback:function(t){e.$set(e.form,"balance","string"==typeof t?t.trim():t)},expression:"form.balance"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同名称",prop:"contract_id"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请填写合同名称"},model:{value:e.form.contract_id,callback:function(t){e.$set(e.form,"contract_id",t)},expression:"form.contract_id"}},e._l(e.contractList,function(t){return a("Option",{key:t.contractId,attrs:{value:parseInt(t.contractId)}},[e._v(e._s(t.contractName))])}),1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"往来单位",prop:"wanglai_danwei"}},[a("Select",{attrs:{disabled:e.isDisabled,transfer:"",filterable:"",clearable:"",placeholder:"请选择往来单位"},model:{value:e.form.wanglai_danwei,callback:function(t){e.$set(e.form,"wanglai_danwei",t)},expression:"form.wanglai_danwei"}},e._l(e.yiFangList,function(t){return a("Option",{key:t.id,attrs:{value:parseInt(t.id)}},[e._v(e._s(t.name))])}),1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"摘要",prop:"zhaiyao"}},[a("Input",{attrs:{disabled:e.isDisabled,clearable:"",placeholder:"请填写摘要"},model:{value:e.form.zhaiyao,callback:function(t){e.$set(e.form,"zhaiyao","string"==typeof t?t.trim():t)},expression:"form.zhaiyao"}})],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{disabled:e.isDisabled,type:"textarea",autosize:{minRows:1,maxRows:5},placeholder:"请填写备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"==typeof t?t.trim():t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("TabPane",{attrs:{label:"附件",name:"name7"}},[a("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":e.isDisabled,form:{fileids:e.form.accountFileIds}}})],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-print"}},[e._v("打印")]),e._v(" "),a("Button",{attrs:{icon:"md-exit"}},[e._v("导出")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(t){e.payModel=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),e.isDisabled?e._e():a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v("\n        确认\n      ")])],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,s,!1,null,null,null);t.a=o.exports},pHVV:function(e,t,a){"use strict";var r={name:"BottomTotal",props:{name:{type:String,default:""},sum:{type:Number,default:null}},data:function(){return{}},mounted:function(){},methods:{}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.sum>0?a("div",{staticStyle:{"text-align":"right","margin-top":"15px","font-size":"20px"}},[e._v("\n    "+e._s(e.name)+"："),a("span",{staticStyle:{"font-size":"24px",color:"#2db7f5"}},[a("Icon",{attrs:{type:"logo-yen"}}),e._v(e._s(e.sum))],1)]):e._e()])},staticRenderFns:[]},i=a("VU/8")(r,n,!1,null,null,null);t.a=i.exports}});
//# sourceMappingURL=0.e09d7904e1f181606edb.js.map