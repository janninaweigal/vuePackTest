webpackJsonp([35],{vS09:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("woOf"),a=i.n(n),r=i("QeYY"),o=i("VPpl"),s=i("94jl"),d=i("7s5I"),l={name:"Bidding",components:{Crumbs:r.a,biddModal:o.a,audit:d.a},mixins:[s.a],data:function(){var t=this;return{organizationalForm:{1:"公开",2:"竞争性磋商",3:"竞争性谈判"},billType:{1:"政采",2:"其他"},isScreen:!1,searchData:{bidding_name:"",winning_bid_org:"",ascending:!1,orderBy:"id",pageNo:1,pageSize:10},binddingList:[],selTypeMod:!1,isDisabled:!1,listUrl:"/bidding/searchBidding/list",columns:[{type:"index",title:"序号",width:60,align:"center",fixed:"left",indexMethod:this.indexMethod},{title:"标段名称",key:"bidding_name",render:function(e,i){return e("span",{style:{color:"#2d8cf0",cursor:"pointer"},on:{click:function(){t.$nextTick(function(){t.isDisabled=!0,t.$refs.biddModal.showModal(i.row.id)})}}},i.row.bidding_name)}},{title:"组织形式",key:"organizational_form",render:function(e,i){return e("div",t.organizationalForm[i.row.organizational_form])}},{title:"编号",key:"code"},{title:"招标类型",key:"bidding_type",render:function(e,i){return e("div",t.billType[i.row.bidding_type])}},{title:"开标时间",key:"start_bidding_time",render:function(e,i){return e("div",t.$moment(i.row.start_bidding_time).format("YYYY年MM月DD日"))}},{title:"招标代理机构",key:"proxy_org"},{title:"中标单位",key:"winning_bid_org"},{title:"中标金额",key:"winning_bid_money"},{align:"center",title:"审核状态",key:"auditStatus",fixed:"right",width:120,render:function(e,i){return t.getAuditDetail(e,i)}}]}},created:function(){this.searchList()},methods:{searchList:function(){var t=this;t.search(t.getNewSearchData(),function(e,i){if(e){var n=i.data;t.binddingList=n.binddingList,t.total=n.totalCount}})},isShowScreen:function(t){this.isScreen=t},handleAdd:function(){this.isCreate=!0,this.isDisabled=!1,this.$refs.biddModal.showModal()},handleModify:function(){var t=this;if(t.isSelected){var e=a()({},t.currentRow),i=-1!==[2,3].indexOf(e.auditStatus);t.$nextTick(function(){t.isCreate=!1,t.isDisabled=!i,t.$refs.biddModal.showModal(e.id)})}else t.$Message.warning("您未选择需要修改的内容")},handlePrint:function(){},handleExport:function(){},handleDelete:function(){this.deleteData("/bidding/deleteBidding/","id")}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bidding"},[i("Crumbs",{attrs:{"parent-manage":"实施管理","children-manage":"招投标管理"},on:{isShowScreen:t.isShowScreen}}),t._v(" "),t.isScreen?i("Content",{staticClass:"content screenStyle",style:{padding:"24px",background:"#fff",marginBottom:"10px"}},[i("Form",{attrs:{model:t.searchData,"label-width":85}},[i("Row",[i("Col",{attrs:{span:"11"}},[i("FormItem",{attrs:{label:"招标名称"}},[i("Input",{attrs:{placeholder:"请填写招标名称"},model:{value:t.searchData.bidding_name,callback:function(e){t.$set(t.searchData,"bidding_name","string"==typeof e?e.trim():e)},expression:"searchData.bidding_name"}})],1)],1),t._v(" "),i("Col",{attrs:{span:"11",offset:"2"}},[i("FormItem",{attrs:{label:"中标单位"}},[i("Input",{attrs:{placeholder:"请填写中标单位"},model:{value:t.searchData.winning_bid_org,callback:function(e){t.$set(t.searchData,"winning_bid_org","string"==typeof e?e.trim():e)},expression:"searchData.winning_bid_org"}})],1)],1)],1),t._v(" "),i("Row",{staticStyle:{"margin-top":"15px"}},[i("Col",{attrs:{span:"11"}},[i("FormItem",{attrs:{label:"开标开始时间"}},[i("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",options:t.startTimeOptions,placeholder:"请选择开标开始时间",placement:"bottom-start"},on:{"on-change":t.startTimeChange},model:{value:t.searchData.startTime,callback:function(e){t.$set(t.searchData,"startTime",e)},expression:"searchData.startTime"}})],1)],1),t._v(" "),i("Col",{attrs:{span:"11",offset:"2"}},[i("FormItem",{attrs:{label:"开标结束时间"}},[i("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",options:t.endTimeOptions,placeholder:"请选择开标结束时间",placement:"bottom-start"},on:{"on-change":t.endTimeChange},model:{value:t.searchData.endTime,callback:function(e){t.$set(t.searchData,"endTime",e)},expression:"searchData.endTime"}})],1)],1)],1),t._v(" "),i("Row",{staticStyle:{"margin-top":"15px","text-align":"right"}},[i("Button",{attrs:{type:"primary"},on:{click:t.searchList}},[t._v("确认")])],1)],1)],1):t._e(),t._v(" "),i("Content",{staticClass:"content",style:{padding:"14px 24px",minHeight:"220px",background:"#fff"}},[i("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.handleAdd}},[t._v("\n      新增\n    ")]),t._v(" "),i("Button",{attrs:{type:"primary",icon:"ios-create"},on:{click:t.handleModify}},[t._v("\n      修改\n    ")]),t._v(" "),i("Button",{attrs:{type:"primary",icon:"md-close"},on:{click:t.handleDelete}},[t._v("\n      删除\n    ")]),t._v(" "),i("Button",{attrs:{icon:"md-print"},on:{click:function(e){return e.stopPropagation(),t.printContent(17)}}},[t._v("\n      打印\n    ")]),t._v(" "),i("Button",{attrs:{icon:"md-exit"},on:{click:function(e){return t.excelExcel("/bidding/exportBiddingListExcel")}}},[t._v("\n      导出\n    ")]),t._v(" "),i("Table",{staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{"highlight-row":"",columns:t.columns,data:t.binddingList},on:{"on-current-change":t.selectRow}}),t._v(" "),i("Page",{staticStyle:{"text-align":"right"},attrs:{total:t.total,current:t.searchData.pageNo,"page-size":t.searchData.pageSize,"show-sizer":"",transfer:""},on:{"on-change":t.pageNoChange,"on-page-size-change":t.pageSizeChange}})],1),t._v(" "),i("audit",{ref:"audit",attrs:{form:t.auditForm}}),t._v(" "),i("biddModal",{ref:"biddModal",attrs:{"is-create":t.isCreate,"is-disabled":t.isDisabled,"organizational-form":t.organizationalForm,"bill-type":t.billType},on:{refreshList:t.searchList}})],1)},staticRenderFns:[]},g=i("VU/8")(l,c,!1,null,null,null);e.default=g.exports}});
//# sourceMappingURL=35.b5e9e386d1f2bf349104.js.map