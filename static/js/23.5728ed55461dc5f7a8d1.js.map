{"version":3,"sources":["webpack:///src/views/contractManage/ContractInfo.vue","webpack:///./src/views/contractManage/ContractInfo.vue?19b0","webpack:///./src/views/contractManage/ContractInfo.vue"],"names":["ContractInfo","name","components","Crumbs","constructionModel","construction","setUpModel","setUp","entrustModel","entrust","audit","mixins","tablePage","data","_this","this","contractId","signGist","1","2","3","budgetGist","contractAttr","showSelect","contractModal","isScreen","contractTypeList","modal","searchData","contractType","startTime","endTime","yifangId","ascending","orderBy","pageNo","pageSize","contractList","selTypeMod","transferValue","listUrl","yifangList","columns","type","title","width","align","fixed","indexMethod","key","render","h","params","row","style","color","cursor","on","click","form","assign_default","$nextTick","isDisabled","$refs","showModal","contractName","$moment","signDate","format","getAuditDetail","created","getYiFangInfo","getBudgetGist","searchList","methods","that","search","getNewSearchData","flag","res","total","totalCount","$Spin","show","commonUtil","ajaxGetUtil","hide","code","$Message","error","msg","class","props","size","confirmSelect","_this2","isCreate","warning","isShowScreen","handleAdd","handleModify","isSelected","currentRow","indexOf","auditStatus","handleDelete","deleteData","contractManage_ContractInfo","_vm","_h","$createElement","_c","_self","staticClass","attrs","parent-manage","children-manage","_v","padding","background","marginBottom","model","label-width","span","label","transfer","filterable","clearable","value","callback","$$v","$set","expression","_l","item","parseInt","_s","offset","id","staticStyle","margin-top","options","startTimeOptions","placeholder","placement","on-change","startTimeChange","endTimeOptions","endTimeChange","text-align","_e","minHeight","icon","$event","stopPropagation","printContent","excelExcel","ref","highlight-row","on-current-change","selectRow","current","page-size","show-sizer","pageNoChange","on-page-size-change","pageSizeChange","mask-closable","slot","padding-bottom","float","margin-left","contract-id","sign-gist","contract-attr","budget-gist","is-create","is-disabled","refreshList","auditForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.5728ed55461dc5f7a8d1.js","sourcesContent":["<template>\n  <div class=\"account-info\">\n    <Crumbs\n      :parent-manage=\"'合同管理'\"\n      :children-manage=\"'合同信息'\"\n      @isShowScreen=\"isShowScreen\"\n    ></Crumbs>\n\n    <!-- 筛选内容 -->\n    <Content\n      v-if=\"isScreen\"\n      class=\"content screenStyle\"\n      :style=\"{padding: '24px', background: '#fff', marginBottom: '10px'}\"\n    >\n      <Form\n        :model=\"searchData\"\n        :label-width=\"85\"\n      >\n        <Row>\n          <Col span=\"11\">\n          <FormItem label=\"合同类别\">\n            <Select\n              v-model=\"searchData.contractType\"\n              transfer\n              filterable\n              clearable\n            >\n              <Option v-for=\"(item,key) in contractTypeList\" :key=\"key\" :value=\"parseInt(key)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          </Col>\n          <Col span=\"11\" offset=\"2\">\n          <FormItem label=\"乙方单位\">\n            <Select\n              v-model=\"searchData.yifangId\"\n              transfer\n              filterable\n              clearable\n            >\n              <Option v-for=\"item in yifangList\" :key=\"item.id\" :value=\"parseInt(item.id)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          </Col>\n        </Row>\n        <!-- 提交开始和结束 -->\n        <Row style=\"margin-top:15px;\">\n          <Col span=\"11\">\n          <FormItem label=\"签约开始时间\">\n            <DatePicker\n              v-model=\"searchData.startTime\"\n              style=\"width:100%;\"\n              type=\"date\"\n              :options=\"startTimeOptions\"\n              placeholder=\"请选择签约开始时间\"\n              placement=\"bottom-start\"\n              @on-change=\"startTimeChange\"\n            ></DatePicker>\n          </FormItem>\n          </Col>\n          <Col span=\"11\" offset=\"2\">\n          <FormItem label=\"签约结束时间\">\n            <DatePicker\n              v-model=\"searchData.endTime\"\n              style=\"width:100%;\"\n              type=\"date\"\n              :options=\"endTimeOptions\"\n              placeholder=\"请选择签约结束时间\"\n              placement=\"bottom-start\"\n              @on-change=\"endTimeChange\"\n            ></DatePicker>\n          </FormItem>\n          </Col>\n        </Row>\n        <Row style=\"margin-top:15px;text-align: right;\">\n          <Button type=\"primary\" @click=\"searchList\">确认</Button>\n        </Row>\n      </Form>\n    </Content>\n    <!-- table-content -->\n    <Content\n      class=\"content\"\n      :style=\"{padding: '14px 24px', minHeight: '220px', background: '#fff'}\"\n    >\n      <Button\n        type=\"primary\"\n        icon=\"md-add\"\n        @click=\"handleAdd\"\n      >\n        新增\n      </Button>\n      <Button\n        type=\"primary\"\n        icon=\"ios-create\"\n        @click=\"handleModify\"\n      >\n        修改\n      </Button>\n      <Button\n        type=\"primary\"\n        icon=\"md-close\"\n        @click=\"handleDelete\"\n      >\n        删除\n      </Button>\n      <Button icon=\"md-print\" @click.stop=\"printContent(15)\">\n        打印\n      </Button>\n      <Button icon=\"md-exit\" @click=\"excelExcel('/contract/exportContractListExcel')\">\n        导出\n      </Button>\n      <Table\n        ref=\"tableContent\"\n        highlight-row\n        class=\"table\"\n        :columns=\"columns\"\n        :data=\"contractList\"\n        style=\"margin-top: 15px;\"\n        @on-current-change=\"selectRow\"\n      ></Table>\n      <!-- 分页组件 -->\n      <Page\n        style=\"text-align: right\"\n        :total=\"total\"\n        :current=\"searchData.pageNo\"\n        :page-size=\"searchData.pageSize\"\n        show-sizer\n        transfer\n        @on-change=\"pageNoChange\"\n        @on-page-size-change=\"pageSizeChange\"\n      />\n      <Modal\n        v-model=\"showSelect\"\n        class=\"selStyle specialWidth\"\n        :mask-closable=\"false\"\n      >\n        <p slot=\"header\">\n          请选择合同基本信息\n        </p>\n        <RadioGroup v-model=\"contractModal\">\n          <Radio v-for=\"(item,key) in contractTypeList\" :key=\"key\" :label=\"parseInt(key)\">{{ item.name }}</Radio>\n        </RadioGroup>\n        <p\n          slot=\"footer\"\n          style=\"text-align: left; padding-bottom: 30px;\"\n        >\n          <Button\n            v-if=\"!isDisabled\"\n            style=\"float: right;margin-left: 8px\"\n            @click=\"showSelect = false\"\n          >\n            取消\n          </Button>\n          <Button\n            v-if=\"!isDisabled\"\n            style=\"float: right\"\n            type=\"primary\"\n            @click=\"confirmSelect()\"\n          >\n            确认\n          </Button>\n        </p>\n      </Modal>\n\n      <!-- 弹出框 -->\n      <construction-model ref=\"constructionModel\" :contract-id=\"contractId\" :sign-gist=\"signGist\" :contract-attr=\"contractAttr\" :budget-gist=\"budgetGist\" :is-create=\"isCreate\" :is-disabled=\"isDisabled\" @refreshList=\"searchList\"></construction-model>\n\n      <setUpModel ref=\"setUpModel\" :contract-id=\"contractId\" :sign-gist=\"signGist\" :contract-attr=\"contractAttr\" :budget-gist=\"budgetGist\" :is-create=\"isCreate\" :is-disabled=\"isDisabled\" @refreshList=\"searchList\"></setUpModel>\n\n      <entrustModel ref=\"entrustModel\" :contract-id=\"contractId\" :sign-gist=\"signGist\" :contract-attr=\"contractAttr\" :budget-gist=\"budgetGist\" :is-create=\"isCreate\" :is-disabled=\"isDisabled\" @refreshList=\"searchList\"></entrustModel>\n      <!-- /弹出框 -->\n    </Content>\n    <!--审核的弹出框-->\n    <audit ref=\"audit\" :form=\"auditForm\" />\n  </div>\n</template>\n\n<script>\nimport Crumbs from '../components/Crumbs';\nimport constructionModel from './components/construction';\nimport setUpModel from './components/setUp';\nimport entrustModel from './components/entrust';\nimport tablePage from '@/mixins/tablePage.js';\nimport audit from '@/components/audit.vue'\nexport default {\n  name: 'Accountinfo',\n  components: { Crumbs, constructionModel, setUpModel, entrustModel, audit },\n  mixins: [tablePage],\n  data() {\n    return {\n      contractId: null,\n      // 签订依据\n      signGist: {\n        1: '比选',\n        2: '招标',\n        3: '其他'\n      },\n      // 预算依据\n      budgetGist: {},\n      // 合同属性\n      contractAttr: {\n        1: '新签合同',\n        2: '补充合同'\n      },\n      // 单选弹出 显示隐藏  默认隐藏\n      showSelect: false,\n      // 单选组合选中值\n      contractModal: null,\n      // 控制筛选框显示隐藏  默认隐藏\n      isScreen: false,\n      // 合同类型\n      contractTypeList: {\n        1: {\n          modal: 'constructionModel',\n          name: '建设工程施工合同'\n        },\n        2: {\n          modal: 'setUpModel',\n          name: '设备购置合同'\n        },\n        3: {\n          modal: 'entrustModel',\n          name: '委托业务合同'\n        }\n      },\n      // 筛选内容_字段\n      searchData: {\n        // 合同类别\n        contractType: '',\n        startTime: null,\n        // 时间日期\n        endTime: null,\n        // 乙方单位\n        yifangId: null,\n        ascending: false,\n        orderBy: '',\n        pageNo: 1,\n        pageSize: 10\n      },\n      // 表格内容 字段相对应\n      contractList: [],\n      // 弹出框内容显示隐藏   默认隐藏\n      selTypeMod: false,\n      // 是否将弹层放置于 body 内  设置为true\n      transferValue: true,\n      listUrl: '/contract/searchContractList',\n      // 乙方单位\n      yifangList: [],\n      // 列\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 60,\n          align: 'center',\n          fixed: 'left',\n          indexMethod: this.indexMethod\n        },\n        {\n          title: '合同类别',\n          key: 'contractType',\n          render: (h, params) => {\n            return h('div', this.contractTypeList[params.row.contractType].name)\n          }\n        },\n        {\n          title: '合同名称',\n          key: 'contractName',\n          render: (h, params) => {\n            const row = params.row\n            return h('span', {\n              style: {\n                color: '#2d8cf0',\n                cursor: 'pointer'\n              },\n              on: {\n                click: () => {\n                  const form = Object.assign({}, row);\n                  const name = this.contractTypeList[form.contractType].modal\n                  this.contractId = form.contractId\n                  this.$nextTick(() => {\n                    this.isDisabled = true;\n                    this.$refs[name].showModal(form.contractType);\n                  })\n                }\n              }\n            }, row.contractName);\n          }\n        },\n        {\n          title: '乙方信息',\n          key: 'yifangName'\n        },\n        {\n          title: '合同金额',\n          key: 'sumMoney'\n        },\n        {\n          title: '签订日期',\n          key: 'signDate',\n          render: (h, params) => {\n            return h('div', this.$moment(params.row.signDate).format('YYYY年MM月DD日'))\n          }\n        },\n        {\n          align: 'center',\n          title: '审核状态',\n          key: 'auditStatus',\n          fixed: 'right',\n          width: 120,\n          render: (h, params) => {\n            return this.getAuditDetail(h, params)\n          }\n        }\n      ]\n    }\n  },\n  created() {\n    this.getYiFangInfo()\n    this.getBudgetGist()\n    this.searchList()\n  },\n  methods: {\n    searchList() {\n      const that = this;\n      that.search(that.getNewSearchData(), (flag, res) => {\n        if (flag) {\n          const data = res.data\n          that.contractList = data.contractList\n          that.total = data.totalCount\n        }\n      })\n    },\n    getBudgetGist() {\n      const that = this;\n      that.$Spin.show();\n      that.commonUtil.ajaxGetUtil('/contract/searchBudgetGist', {}, (res) => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          that.budgetGist = res.data\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, () => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n    },\n    // 获取乙方信息列表\n    getYiFangInfo() {\n      const that = this;\n      that.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              'class': 'demo-spin-icon-load',\n              props: {\n                type: 'ios-loading',\n                size: 18\n              }\n            }),\n            h('div', '加载中')\n          ])\n        }\n      });\n      that.commonUtil.ajaxGetUtil('/contract/searchYiFang', {}, (res) => {\n        // 关闭数据加载\n        that.$Spin.hide();\n        if (res.code === 1) {\n          that.yifangList = res.data\n        } else {\n          that.$Message.error(res.msg);\n        }\n      }, () => {\n        that.$Message.error('网络连接错误');\n        // 关闭数据加载\n        that.$Spin.hide();\n      }, that)\n    },\n    confirmSelect() {\n      const contractModal = this.contractModal\n      // 1. 建设工程施工合同   2. 设备购置合同   3. 委托业务合同\n      if (!contractModal) {\n        this.$Message.warning('您未选中任何选项');\n        return;\n      }\n      const name = this.contractTypeList[contractModal].modal\n      this.contractId = null\n      this.$nextTick(() => {\n        this.isDisabled = false\n        this.isCreate = true\n        this.$refs[name].showModal(contractModal);\n        this.showSelect = false\n        this.contractModal = null\n      })\n    },\n    // 子组件接收 控制筛选内容的隐藏和显示\n    isShowScreen(msg) {\n      this.isScreen = msg;\n    },\n    // 添加批复\n    handleAdd() {\n      this.showSelect = true;\n    },\n    // 更新操作\n    handleModify() {\n      const that = this;\n      if (!that.isSelected) {\n        that.$Message.warning('您未选择需要修改的内容');\n        return\n      }\n      const form = Object.assign({}, that.currentRow);\n      // 未审核 和 审核驳回可以更改信息\n      const flag = [2, 3].indexOf(form.auditStatus) !== -1\n      // 判断合同类别\n      const contractType = form.contractType\n      const name = that.contractTypeList[contractType].modal\n      that.contractId = form.contractId\n      that.$nextTick(() => {\n        that.isCreate = false;\n        that.isDisabled = !flag;\n        that.$refs[name].showModal(contractType);\n        that.contractModal = null\n      })\n    },\n    // 删除\n    handleDelete() {\n      this.deleteData('/contract/deleteContract/', 'contractId')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/contractManage/ContractInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"account-info\"},[_c('Crumbs',{attrs:{\"parent-manage\":'合同管理',\"children-manage\":'合同信息'},on:{\"isShowScreen\":_vm.isShowScreen}}),_vm._v(\" \"),(_vm.isScreen)?_c('Content',{staticClass:\"content screenStyle\",style:({padding: '24px', background: '#fff', marginBottom: '10px'})},[_c('Form',{attrs:{\"model\":_vm.searchData,\"label-width\":85}},[_c('Row',[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"合同类别\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.searchData.contractType),callback:function ($$v) {_vm.$set(_vm.searchData, \"contractType\", $$v)},expression:\"searchData.contractType\"}},_vm._l((_vm.contractTypeList),function(item,key){return _c('Option',{key:key,attrs:{\"value\":parseInt(key)}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"11\",\"offset\":\"2\"}},[_c('FormItem',{attrs:{\"label\":\"乙方单位\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.searchData.yifangId),callback:function ($$v) {_vm.$set(_vm.searchData, \"yifangId\", $$v)},expression:\"searchData.yifangId\"}},_vm._l((_vm.yifangList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":parseInt(item.id)}},[_vm._v(_vm._s(item.name))])}),1)],1)],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"15px\"}},[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"label\":\"签约开始时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"options\":_vm.startTimeOptions,\"placeholder\":\"请选择签约开始时间\",\"placement\":\"bottom-start\"},on:{\"on-change\":_vm.startTimeChange},model:{value:(_vm.searchData.startTime),callback:function ($$v) {_vm.$set(_vm.searchData, \"startTime\", $$v)},expression:\"searchData.startTime\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"11\",\"offset\":\"2\"}},[_c('FormItem',{attrs:{\"label\":\"签约结束时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"options\":_vm.endTimeOptions,\"placeholder\":\"请选择签约结束时间\",\"placement\":\"bottom-start\"},on:{\"on-change\":_vm.endTimeChange},model:{value:(_vm.searchData.endTime),callback:function ($$v) {_vm.$set(_vm.searchData, \"endTime\", $$v)},expression:\"searchData.endTime\"}})],1)],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"15px\",\"text-align\":\"right\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchList}},[_vm._v(\"确认\")])],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('Content',{staticClass:\"content\",style:({padding: '14px 24px', minHeight: '220px', background: '#fff'})},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"\\n      新增\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-create\"},on:{\"click\":_vm.handleModify}},[_vm._v(\"\\n      修改\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-close\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"\\n      删除\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-print\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.printContent(15)}}},[_vm._v(\"\\n      打印\\n    \")]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"md-exit\"},on:{\"click\":function($event){return _vm.excelExcel('/contract/exportContractListExcel')}}},[_vm._v(\"\\n      导出\\n    \")]),_vm._v(\" \"),_c('Table',{ref:\"tableContent\",staticClass:\"table\",staticStyle:{\"margin-top\":\"15px\"},attrs:{\"highlight-row\":\"\",\"columns\":_vm.columns,\"data\":_vm.contractList},on:{\"on-current-change\":_vm.selectRow}}),_vm._v(\" \"),_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"total\":_vm.total,\"current\":_vm.searchData.pageNo,\"page-size\":_vm.searchData.pageSize,\"show-sizer\":\"\",\"transfer\":\"\"},on:{\"on-change\":_vm.pageNoChange,\"on-page-size-change\":_vm.pageSizeChange}}),_vm._v(\" \"),_c('Modal',{staticClass:\"selStyle specialWidth\",attrs:{\"mask-closable\":false},model:{value:(_vm.showSelect),callback:function ($$v) {_vm.showSelect=$$v},expression:\"showSelect\"}},[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        请选择合同基本信息\\n      \")]),_vm._v(\" \"),_c('RadioGroup',{model:{value:(_vm.contractModal),callback:function ($$v) {_vm.contractModal=$$v},expression:\"contractModal\"}},_vm._l((_vm.contractTypeList),function(item,key){return _c('Radio',{key:key,attrs:{\"label\":parseInt(key)}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('p',{staticStyle:{\"text-align\":\"left\",\"padding-bottom\":\"30px\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(!_vm.isDisabled)?_c('Button',{staticStyle:{\"float\":\"right\",\"margin-left\":\"8px\"},on:{\"click\":function($event){_vm.showSelect = false}}},[_vm._v(\"\\n          取消\\n        \")]):_vm._e(),_vm._v(\" \"),(!_vm.isDisabled)?_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirmSelect()}}},[_vm._v(\"\\n          确认\\n        \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('construction-model',{ref:\"constructionModel\",attrs:{\"contract-id\":_vm.contractId,\"sign-gist\":_vm.signGist,\"contract-attr\":_vm.contractAttr,\"budget-gist\":_vm.budgetGist,\"is-create\":_vm.isCreate,\"is-disabled\":_vm.isDisabled},on:{\"refreshList\":_vm.searchList}}),_vm._v(\" \"),_c('setUpModel',{ref:\"setUpModel\",attrs:{\"contract-id\":_vm.contractId,\"sign-gist\":_vm.signGist,\"contract-attr\":_vm.contractAttr,\"budget-gist\":_vm.budgetGist,\"is-create\":_vm.isCreate,\"is-disabled\":_vm.isDisabled},on:{\"refreshList\":_vm.searchList}}),_vm._v(\" \"),_c('entrustModel',{ref:\"entrustModel\",attrs:{\"contract-id\":_vm.contractId,\"sign-gist\":_vm.signGist,\"contract-attr\":_vm.contractAttr,\"budget-gist\":_vm.budgetGist,\"is-create\":_vm.isCreate,\"is-disabled\":_vm.isDisabled},on:{\"refreshList\":_vm.searchList}})],1),_vm._v(\" \"),_c('audit',{ref:\"audit\",attrs:{\"form\":_vm.auditForm}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ada02b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contractManage/ContractInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ada02b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ContractInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContractInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContractInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ada02b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ContractInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ada02b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contractManage/ContractInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}