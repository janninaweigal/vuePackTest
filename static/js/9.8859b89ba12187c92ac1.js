webpackJsonp([9],{YLh2:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("woOf"),i=r.n(a),o=r("QeYY"),n=r("J8Iu"),s=r("7s5I"),l=r("94jl"),d={name:"AuditReport",components:{Crumbs:o.a,uploadFile:n.a,audit:s.a},mixins:[l.a],data:function(){var t=this;return{columns:[{type:"index",title:"序号",width:60,align:"center",fixed:"left",indexMethod:this.indexMethod},{title:"报告名称",key:"reportName",align:"center",render:function(e,r){return e("span",{style:{color:"#2d8cf0",cursor:"pointer"},on:{click:function(){var e=i()({},r.row);e.reportAuditTime=new Date(e.reportAuditTime),t.form=e,t.isDisabled=!0,t.isCreate=!1,t.$nextTick(function(){t.$refs.uploadFile.getFileItems(),t.popUp=!0})}}},r.row.reportName)}},{title:"审计机构",key:"auditOrgName",align:"center"},{title:"审计时间",key:"reportAuditTime",align:"center",render:function(e,r){return e("div",t.$moment(r.row.reportAuditTime).format("YYYY年MM月DD日"))}},{align:"center",title:"审核状态",key:"auditStatus",fixed:"right",width:120,render:function(e,r){return t.getAuditDetail(e,r)}}],reportList:[],popUp:!1,form:{reportName:"",auditOrgName:"",reportAuditTime:"",auditResult:""},searchData:{reportName:"",auditOrgName:"",reportAuditTime:"",auditResult:"",ascending:!1,orderBy:"",pageNo:1,pageSize:10},ruleValidateType:{reportName:[{required:!0,message:"请填写报告名称",trigger:"blur"}],auditOrgName:[{required:!0,message:"请填写审计机构",trigger:"blur"}],reportAuditTime:[{type:"date",required:!0,message:"请填写审计时间",trigger:"blur"}],auditResult:[{required:!0,message:"请填写审计结果",trigger:"blur"}]},listUrl:"/auditReport/searchAuditReport/list"}},created:function(){this.searchList()},methods:{searchList:function(){var t=this,e=i()({},t.searchData),r=e.reportAuditTime;r&&(e.reportAuditTime=new Date(r).getTime()),t.search(e,function(e,r){if(e){var a=r.data;t.reportList=a.reportList,t.total=a.totalCount}})},handleAdd:function(){this.clearData(),this.isCreate=!0,this.popUp=!0},handleModify:function(){var t=this;if(this.isSelected){this.clearData();var e=i()({},this.currentRow),r=e.auditStatus;e.reportAuditTime=new Date(e.reportAuditTime),this.form=e,this.isDisabled=1===r||0===r,this.isCreate=!1,this.$nextTick(function(){t.$refs.uploadFile.getFileItems(),t.popUp=!0})}else this.$Message.warning("您未选择需要修改的内容")},clearData:function(){this.form={reportName:"",auditOrgName:"",reportAuditTime:null,auditResult:""},this.$refs.form.resetFields();var t=this.$refs.uploadFile;t&&t.clearFileItems()},handleDelete:function(){this.deleteData("/auditReport/deleteAuditReport/","reportId")},handlePrint:function(){},handleExport:function(){},handleCancel:function(){this.clearData(),this.popUp=!1},handleConfirm:function(t){var e=this,r=this.isCreate,a=i()({},this.form),o=r?"/auditReport/addAuditReport":"/auditReport/updateAuditReport";a.reportAuditTime=a.reportAuditTime?new Date(a.reportAuditTime).getTime():null,a.fileIds=this.$refs.uploadFile.getFileIds(),this.submitForm(t,a,o,function(){e.popUp=!1,e.searchList()})}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"audit-report"},[r("Crumbs",{attrs:{"parent-manage":"资金管理","children-manage":"审计报告","is-hide":""}}),t._v(" "),r("Content",{staticClass:"content",style:{padding:"14px 24px",minHeight:"220px",background:"#fff"}},[r("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.handleAdd}},[t._v("\n      新增\n    ")]),t._v(" "),r("Button",{attrs:{type:"primary",icon:"ios-create"},on:{click:t.handleModify}},[t._v("\n      修改\n    ")]),t._v(" "),r("Button",{attrs:{type:"primary",icon:"md-close"},on:{click:t.handleDelete}},[t._v("\n      删除\n    ")]),t._v(" "),r("Button",{attrs:{icon:"md-print"},on:{click:function(e){return e.stopPropagation(),t.printContent(19)}}},[t._v("\n      打印\n    ")]),t._v(" "),r("Button",{attrs:{icon:"md-exit"},on:{click:function(e){return t.excelExcel("/auditReport/exportAuditReportListExcel")}}},[t._v("\n      导出\n    ")]),t._v(" "),r("Table",{ref:"reportList",staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{"highlight-row":"",columns:t.columns,data:t.reportList},on:{"on-current-change":t.selectRow}}),t._v(" "),r("Page",{staticStyle:{"text-align":"right"},attrs:{total:t.total,current:t.searchData.pageNo,"page-size":t.searchData.pageSize,"show-sizer":"",transfer:""},on:{"on-change":t.pageNoChange,"on-page-size-change":t.pageSizeChange}}),t._v(" "),r("Modal",{staticClass:"selStyle specialWidth",attrs:{"mask-closable":!1},model:{value:t.popUp,callback:function(e){t.popUp=e},expression:"popUp"}},[r("p",{attrs:{slot:"header"},slot:"header"},[t.isDisabled?r("span",[t._v("审计报告")]):r("span",[t._v("请添加审计报告信息")])]),t._v(" "),r("Tabs",{staticClass:"innerTabStyle",attrs:{animated:!1,value:"name1"}},[r("TabPane",{attrs:{label:"信息设置",name:"name1"}},[r("Form",{ref:"form",attrs:{model:t.form,rules:t.ruleValidateType,"label-width":80}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{label:"报告名称",prop:"reportName"}},[r("Input",{attrs:{disabled:t.isDisabled,placeholder:"请填写报告名称"},model:{value:t.form.reportName,callback:function(e){t.$set(t.form,"reportName",e)},expression:"form.reportName"}})],1)],1),t._v(" "),r("Col",{attrs:{span:"11",offset:"2"}},[r("FormItem",{attrs:{label:"审计机构",prop:"auditOrgName"}},[r("Input",{attrs:{disabled:t.isDisabled,placeholder:"请填写审计机构"},model:{value:t.form.auditOrgName,callback:function(e){t.$set(t.form,"auditOrgName",e)},expression:"form.auditOrgName"}})],1)],1)],1),t._v(" "),r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{label:"审计时间",prop:"reportAuditTime"}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",transfer:t.transferValue,disabled:t.isDisabled,placeholder:"请填写审计时间",clearable:""},model:{value:t.form.reportAuditTime,callback:function(e){t.$set(t.form,"reportAuditTime",e)},expression:"form.reportAuditTime"}})],1)],1),t._v(" "),r("Col",{attrs:{span:"11",offset:"2"}},[r("FormItem",{attrs:{label:"审计结果",prop:"auditResult"}},[r("Input",{attrs:{disabled:t.isDisabled,placeholder:"请填写审计结果"},model:{value:t.form.auditResult,callback:function(e){t.$set(t.form,"auditResult",e)},expression:"form.auditResult"}})],1)],1)],1)],1)],1),t._v(" "),r("TabPane",{attrs:{label:"附件",name:"name7"}},[r("uploadFile",{ref:"uploadFile",attrs:{"is-disabled":t.isDisabled,form:{fileids:t.form.reportFileids}}})],1)],1),t._v(" "),r("p",{staticStyle:{"text-align":"left"},attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{icon:"md-print"}},[t._v("打印")]),t._v(" "),r("Button",{attrs:{icon:"md-exit"}},[t._v("导出")]),t._v(" "),t.isDisabled?t._e():r("Button",{staticStyle:{float:"right","margin-left":"8px"},on:{click:function(e){return t.handleCancel("form")}}},[t._v("\n          取消\n        ")]),t._v(" "),t.isDisabled?t._e():r("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.handleConfirm("form")}}},[t._v("\n          确认\n        ")])],1)],1)],1),t._v(" "),r("audit",{ref:"audit",attrs:{form:t.auditForm}})],1)},staticRenderFns:[]};var p=r("VU/8")(d,u,!1,function(t){r("YN5M")},"data-v-7a8adfbd",null);e.default=p.exports},YN5M:function(t,e){}});
//# sourceMappingURL=9.8859b89ba12187c92ac1.js.map